{"version":3,"file":"326.626573213fc1a8fe0b29.js","mappings":"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","sources":["webpack://ab_platform_web/./node_modules/pdfjs-dist/build/pdf.mjs","webpack://ab_platform_web/./node_modules/pdfjs-dist/webpack.mjs"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ var __webpack_modules__ = ({\n\n/***/ 976:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayer: () => (/* binding */ AnnotationLayer),\n  FreeTextAnnotationElement: () => (/* binding */ FreeTextAnnotationElement),\n  InkAnnotationElement: () => (/* binding */ InkAnnotationElement),\n  StampAnnotationElement: () => (/* binding */ StampAnnotationElement)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n// EXTERNAL MODULE: ./src/display/annotation_storage.js\nvar annotation_storage = __webpack_require__(792);\n;// CONCATENATED MODULE: ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/xfa_layer.js\nvar xfa_layer = __webpack_require__(284);\n;// CONCATENATED MODULE: ./src/display/annotation_layer.js\n\n\n\n\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case util.AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case util.AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case util.AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case util.AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case util.AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case util.AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case util.AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case util.AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case util.AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case util.AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case util.AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case util.AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case util.AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case util.AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case util.AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case util.AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case util.AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case util.AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    titleObj,\n    contentsObj,\n    richText\n  }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    this.#updates ||= {\n      rect: this.data.rect.slice(0)\n    };\n    const {\n      rect\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex++;\n    if (data.popupRef) {\n      container.setAttribute(\"aria-haspopup\", \"dialog\");\n    }\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case util.AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case util.AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case util.AnnotationBorderStyleType.BEVELED:\n          (0,util.warn)(\"Unimplemented border style: beveled\");\n          break;\n        case util.AnnotationBorderStyleType.INSET:\n          (0,util.warn)(\"Unimplemented border style: inset\");\n          break;\n        case util.AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = util.Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    const {\n      width,\n      height\n    } = getRectDims(this.data.rect);\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = 100 * width / pageWidth;\n      elementHeight = 100 * height / pageHeight;\n    } else {\n      elementWidth = 100 * height / pageWidth;\n      elementHeight = 100 * width / pageHeight;\n    }\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return (0,util.shadow)(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect;\n    if (quadPoints.length === 1) {\n      const [, {\n        x: trX,\n        y: trY\n      }, {\n        x: blX,\n        y: blY\n      }] = quadPoints[0];\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (const [, {\n      x: trX,\n      y: trY\n    }, {\n      x: blX,\n      y: blY\n    }] of quadPoints) {\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup() {\n    const {\n      container,\n      data\n    } = this;\n    container.setAttribute(\"aria-haspopup\", \"dialog\");\n    const popup = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation\n      },\n      parent: this.parent,\n      elements: [this]\n    });\n    this.parent.div.append(popup.render());\n  }\n  render() {\n    (0,util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            (0,util.warn)(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  get _isEditable() {\n    return false;\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId\n      });\n    });\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n  }\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      (0,util.warn)(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          (0,util.warn)(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util.FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : util.Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (util.LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / util.LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / util.LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n    style.color = util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements\n    } = parameters;\n    super(parameters, {\n      isRenderable: AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n  }\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n    const popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open\n    });\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${util.AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #wasVisible = false;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#dateObj = display_utils.PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = util.Util.makeHexColor(...this.#color);\n      if (CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = util.Util.makeHexColor(...this.#color.map(c => Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)));\n      }\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({\n      dir: title.dir,\n      str: title.textContent\n    } = this.#titleObj);\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        date: this.#dateObj.toLocaleDateString(),\n        time: this.#dateObj.toLocaleTimeString()\n      }));\n      header.append(modificationDate);\n    }\n    const contentsObj = this.#contentsObj;\n    const richText = this.#richText;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      xfa_layer.XfaLayer.render({\n        xfaHtml: richText.html,\n        intent: \"richText\",\n        div: popup\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(contentsObj);\n      popup.append(contents);\n    }\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || util.Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = util.Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    const {\n      style\n    } = this.#container;\n    style.left = `${100 * (popupLeft - pageX) / pageWidth}%`;\n    style.top = `${100 * (popupTop - pageY) / pageHeight}%`;\n    this.#container.append(popup);\n  }\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = util.AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  get _isEditable() {\n    return this.data.hasOwnCanvas;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = util.AnnotationEditorType.INK;\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    for (const inkList of data.inkLists) {\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n      if (!data.popupRef && this.hasPopupData) {\n        this._createPopup();\n      }\n      svg.append(polyline);\n    }\n    this.container.append(svg);\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      filename,\n      content\n    } = this.data.file;\n    this.filename = (0,display_utils.getFilenameFromUrl)(filename, true);\n    this.content = content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      filename,\n      content\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #editableAnnotations = new Map();\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n  }\n  #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    contentElement.id = `${util.AnnotationPrefix}${id}`;\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    (0,display_utils.setLayerDimensions)(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new display_utils.DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new annotation_storage.AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === util.AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const {\n          width,\n          height\n        } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      this.#appendElement(rendered, data.id);\n      if (element.annotationEditorType > 0) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\n\n/***/ }),\n\n/***/ 792:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationStorage: () => (/* binding */ AnnotationStorage),\n/* harmony export */   PrintAnnotationStorage: () => (/* binding */ PrintAnnotationStorage),\n/* harmony export */   SerializableEmpty: () => (/* binding */ SerializableEmpty)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(310);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(651);\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor && typeof this.onAnnotationEditor === \"function\") {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  getAll() {\n    return this.#storage.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#storage) : null;\n  }\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__.MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n}\n\n\n/***/ }),\n\n/***/ 831:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataRangeTransport: () => (/* binding */ PDFDataRangeTransport),\n/* harmony export */   PDFWorker: () => (/* binding */ PDFWorker),\n/* harmony export */   build: () => (/* binding */ build),\n/* harmony export */   getDocument: () => (/* binding */ getDocument),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* unused harmony exports DefaultCanvasFactory, DefaultCMapReaderFactory, DefaultFilterFactory, DefaultStandardFontDataFactory, LoopbackPort, PDFDocumentLoadingTask, PDFDocumentProxy, PDFPageProxy, PDFWorkerUtil, RenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(792);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n/* harmony import */ var _font_loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10);\n/* harmony import */ var display_node_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(573);\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(923);\n/* harmony import */ var _text_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(814);\n/* harmony import */ var _worker_options_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(164);\n/* harmony import */ var _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(178);\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(62);\n/* harmony import */ var _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(626);\n/* harmony import */ var _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(585);\n/* harmony import */ var display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(94);\n/* harmony import */ var display_network__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(457);\n/* harmony import */ var display_node_stream__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(786);\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(50);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__]);\n([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DELAYED_CLEANUP_TIMEOUT = 5000;\nconst DefaultCanvasFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCanvasFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCanvasFactory;\nconst DefaultCMapReaderFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCMapReaderFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory;\nconst DefaultFilterFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeFilterFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMFilterFactory;\nconst DefaultStandardFontDataFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeStandardFontDataFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory;\nfunction getDocument(src) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  if (typeof src !== \"object\") {\n    throw new Error(\"Invalid parameter in getDocument, need parameter object.\");\n  }\n  if (!src.url && !src.data && !src.range) {\n    throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !(0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme)(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl = typeof src.standardFontDataUrl === \"string\" ? src.standardFontDataUrl : null;\n  const StandardFontDataFactory = src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : CMapReaderFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory && StandardFontDataFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory && cMapUrl && standardFontDataUrl && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(cMapUrl, document.baseURI) && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(standardFontDataUrl, document.baseURI);\n  const canvasFactory = src.canvasFactory || new DefaultCanvasFactory({\n    ownerDocument\n  });\n  const filterFactory = src.filterFactory || new DefaultFilterFactory({\n    docId,\n    ownerDocument\n  });\n  const styleElement = null;\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.setVerbosityLevel)(verbosity);\n  const transportFactory = {\n    canvasFactory,\n    filterFactory\n  };\n  if (!useWorkerFetch) {\n    transportFactory.cMapReaderFactory = new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    });\n    transportFactory.standardFontDataFactory = new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    });\n  }\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const fetchDocParams = {\n    docId,\n    apiVersion: \"4.2.67\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null\n    }\n  };\n  const transportParams = {\n    ignoreErrors,\n    disableFontFace,\n    fontExtraProperties,\n    enableXfa,\n    ownerDocument,\n    disableAutoFetch,\n    pdfBug,\n    styleElement\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    const workerIdPromise = _fetchDocument(worker, fetchDocParams);\n    const networkStreamPromise = new Promise(function (resolve) {\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__.PDFDataTransportStream(rangeTransport, {\n          disableRange,\n          disableStream\n        });\n      } else if (!data) {\n        const createPDFNetworkStream = params => {\n          if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n            const isFetchSupported = function () {\n              return typeof fetch !== \"undefined\" && typeof Response !== \"undefined\" && \"body\" in Response.prototype;\n            };\n            return isFetchSupported() && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_node_stream__WEBPACK_IMPORTED_MODULE_13__.PDFNodeStream(params);\n          }\n          return (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_network__WEBPACK_IMPORTED_MODULE_12__.PDFNetworkStream(params);\n        };\n        networkStream = createPDFNetworkStream({\n          url,\n          length,\n          httpHeaders,\n          withCredentials,\n          rangeChunkSize,\n          disableRange,\n          disableStream\n        });\n      }\n      resolve(networkStream);\n    });\n    return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nasync function _fetchDocument(worker, source) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\"GetDocRequest\", source, source.data ? [source.data.buffer] : null);\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    return new URL(val, window.location).href;\n  } catch {\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof val === \"string\") {\n      return val;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction isRefProxy(ref) {\n  return typeof ref === \"object\" && Number.isInteger(ref?.num) && ref.num >= 0 && Number.isInteger(ref?.gen) && ref.gen >= 0;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  constructor() {\n    this._capability = Promise.withResolvers();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = Promise.withResolvers();\n  }\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n  requestDataRange(begin, end) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(!intentPrint);\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      this._stats?.timeEnd(\"Rendering\");\n      this._stats?.timeEnd(\"Overall\");\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    printAnnotationStorage = null\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => _xfa_text_js__WEBPACK_IMPORTED_MODULE_15__.XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null)\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(false);\n    if (resetStats && success) {\n      this._stats &&= new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(true);\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup(true);\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass LoopbackPort {\n  #listeners = new Set();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const listener of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener) {\n    this.#listeners.add(listener);\n  }\n  removeEventListener(name, listener) {\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    this.#listeners.clear();\n  }\n}\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fakeWorkerId: 0\n};\n{\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n    PDFWorkerUtil.isWorkerDisabled = true;\n    _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n  }\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n    try {\n      base = new URL(baseUrl);\n      if (!base.origin || base.origin === \"null\") {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    const wrapper = `await import(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper], {\n      type: \"text/javascript\"\n    }));\n  };\n}\nclass PDFWorker {\n  static #workerPorts;\n  constructor({\n    name = null,\n    port = null,\n    verbosity = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getVerbosityLevel)()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = Promise.withResolvers();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n    if (port) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n  get promise() {\n    return this._readyCapability.promise;\n  }\n  get port() {\n    return this._port;\n  }\n  get messageHandler() {\n    return this._messageHandler;\n  }\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {});\n    this._readyCapability.resolve();\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  _initialize() {\n    if (!PDFWorkerUtil.isWorkerDisabled && !PDFWorker.#mainThreadWorkerMessageHandler) {\n      let {\n        workerSrc\n      } = PDFWorker;\n      try {\n        if (!PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n        }\n        const worker = new Worker(workerSrc, {\n          type: \"module\"\n        });\n        const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            this._setupFakeWorker();\n          }\n        };\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n            this._readyCapability.resolve();\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          try {\n            sendTest();\n          } catch {\n            this._setupFakeWorker();\n          }\n        });\n        const sendTest = () => {\n          const testObj = new Uint8Array();\n          messageHandler.send(\"test\", testObj, [testObj.buffer]);\n        };\n        sendTest();\n        return;\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"The worker has been disabled.\");\n      }\n    }\n    this._setupFakeWorker();\n  }\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n      const workerHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id, id + \"_worker\", port);\n      this._messageHandler = messageHandler;\n      this._readyCapability.resolve();\n      messageHandler.send(\"configure\", {\n        verbosity: this.verbosity\n      });\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (_worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc) {\n      return _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import( /*webpackIgnore: true*/this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"annotationStorage\", new _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE, printAnnotationStorage = null, isOpList = false) {\n    let renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    switch (annotationMode) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.DISABLE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE:\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_FORMS:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        const annotationStorage = renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT && printAnnotationStorage instanceof _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isOpList) {\n      renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.OPLIST;\n    }\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${annotationStorageSerializable.hash}`,\n      annotationStorageSerializable\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      (0,_text_layer_js__WEBPACK_IMPORTED_MODULE_6__.cleanupTextLayer)();\n      this._networkStream?.cancelAllRequests(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Worker was terminated.\"));\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = Promise.withResolvers();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total\n            });\n          };\n        }\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = Promise.withResolvers();\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(exception.message, exception.code));\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const inspectFont = params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontFaceObject(exportedData, {\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            inspectFont\n          });\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!params.fontExtraProperties && font.data) {\n              font.data = null;\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          if (imageData?.dataLen > _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MAX_IMAGE_SIZE_TO_CACHE) {\n            pageProxy._maybeCleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.cMapReaderFactory) {\n        return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.standardFontDataFactory) {\n        return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__.OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new _metadata_js__WEBPACK_IMPORTED_MODULE_8__.Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    (0,_text_layer_js__WEBPACK_IMPORTED_MODULE_6__.cleanupTextLayer)();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n  get loadingParams() {\n    const {\n      disableAutoFetch,\n      enableXfa\n    } = this._params;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"loadingParams\", {\n      disableAutoFetch,\n      enableXfa\n    });\n  }\n}\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      background\n    } = this.params;\n    this.gfx = new _canvas_js__WEBPACK_IMPORTED_MODULE_5__.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    this.callback(error || new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay));\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"4.2.67\";\nconst build = \"49b388101\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 583:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCMapReaderFactory: () => (/* binding */ BaseCMapReaderFactory),\n/* harmony export */   BaseCanvasFactory: () => (/* binding */ BaseCanvasFactory),\n/* harmony export */   BaseFilterFactory: () => (/* binding */ BaseFilterFactory),\n/* harmony export */   BaseSVGFactory: () => (/* binding */ BaseSVGFactory),\n/* harmony export */   BaseStandardFontDataFactory: () => (/* binding */ BaseStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass BaseFilterFactory {\n  constructor() {\n    if (this.constructor === BaseFilterFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\")\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.BINARY : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  _fetchData(url, compressionType) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  _fetchData(url) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createSVG` called.\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 923:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  CanvasGraphics: () => (/* binding */ CanvasGraphics)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      (0,util.unreachable)(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n  getPattern() {\n    (0,util.unreachable)(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, (0,display_utils.getCurrentTransform)(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height, true);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = util.Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(ctx));\n    } else {\n      scale = util.Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n    (0,util.info)(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = util.Util.singularValueDecompose2dScale(this.baseTransform);\n    const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n    const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n    const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n    graphics.baseTransform = (0,display_utils.getCurrentTransform)(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    step = Math.abs(step);\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax((0,display_utils.getCurrentTransform)(graphics.ctx), [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = util.Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new util.FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = util.Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = util.Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/canvas.js\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = (0,display_utils.getCurrentTransform)(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n      path.lineTo(p % width1, p / width1 | 0);\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n  data = null;\n  points = null;\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n  return drawOutline;\n}\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = util.IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = util.FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = util.TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  updatePathMinMax(transform, x, y) {\n    [x, y] = util.Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  updateRectMinMax(transform, rect) {\n    const p1 = util.Util.applyTransform(rect, transform);\n    const p2 = util.Util.applyTransform(rect.slice(2), transform);\n    const p3 = util.Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = util.Util.applyTransform([rect[2], rect[1]], transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n  updateScalingPathMinMax(transform, minMax) {\n    util.Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.minY = Math.min(this.minY, minMax[1]);\n    this.maxX = Math.max(this.maxX, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = util.Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax);\n    if (minMax) {\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        (0,util.unreachable)(\"Stroke bounding box must include transform.\");\n      }\n      const scale = util.Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = util.Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return util.Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util.ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util.ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util.ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (!util.isNodeJS) {\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n      bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n      bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n    }\n  }\n}\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = layerData[i] * alpha * scale | 0;\n  }\n}\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n    layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n  }\n}\nfunction genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n  const composeFn = subtype === \"Luminosity\" ? composeSMaskLuminosity : composeSMaskAlpha;\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(layerOffsetX - maskOffsetX, row + (layerOffsetY - maskOffsetY), width, chunkHeight);\n    const layerData = layerCtx.getImageData(layerOffsetX, row + layerOffsetY, width, chunkHeight);\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n  genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  const scale = util.Util.singularValueDecompose2dScale(transform);\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n  return scale[0] <= actualScale && scale[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...(0,display_utils.getCurrentTransform)(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      fnId = fnArray[i];\n      if (fnId !== util.OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = util.Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = util.Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], maskToCanvas);\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, (0,display_utils.getCurrentTransformInverse)(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = util.Util.transform((0,display_utils.getCurrentTransformInverse)(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(intent) {}\n  setFlatness(flatness) {}\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...(0,display_utils.getCurrentTransform)(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case util.OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case util.OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n        case util.OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case util.OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n        case util.OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n    current.setCurrentPoint(x, y);\n  }\n  closePath() {\n    this.ctx.closePath();\n  }\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n  endPath() {\n    this.consumePath();\n  }\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n  beginText() {\n    this.current.textMatrix = util.IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      (0,util.warn)(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & util.TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: (0,display_utils.getCurrentTransform)(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return (0,util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      patternTransform = (0,display_utils.getCurrentTransform)(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === util.TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        (0,util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const transformed = util.Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n  setCharWidth(xWidth, yWidth) {}\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || (0,display_utils.getCurrentTransform)(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        })\n      };\n      pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n  setFillRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.SHADING);\n    const inv = (0,display_utils.getCurrentTransformInverse)(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const [x0, y0, x1, y1] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], inv);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n  beginInlineImage() {\n    (0,util.unreachable)(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    (0,util.unreachable)(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax((0,display_utils.getCurrentTransform)(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      (0,util.info)(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      (0,util.warn)(\"Knockout groups not supported.\");\n    }\n    const currentTransform = (0,display_utils.getCurrentTransform)(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = util.Util.getAxialAlignedBoundingBox(group.bbox, (0,display_utils.getCurrentTransform)(currentCtx));\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = (0,display_utils.getCurrentTransform)(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = util.Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        const [scaleX, scaleY] = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(this.ctx));\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = util.Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      const [x, y] = util.Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    if (!util.isNodeJS) {\n      const {\n        filter\n      } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, (0,display_utils.getCurrentTransformInverse)(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(ctx), imgData.interpolate);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore();\n  }\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(tag) {}\n  markPointProps(tag, properties) {}\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat() {}\n  endCompat() {}\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = (0,display_utils.getCurrentTransform)(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.stroke();\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in util.OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[util.OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n\n/***/ }),\n\n/***/ 419:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMCMapReaderFactory: () => (/* binding */ DOMCMapReaderFactory),\n/* harmony export */   DOMCanvasFactory: () => (/* binding */ DOMCanvasFactory),\n/* harmony export */   DOMFilterFactory: () => (/* binding */ DOMFilterFactory),\n/* harmony export */   DOMSVGFactory: () => (/* binding */ DOMSVGFactory),\n/* harmony export */   DOMStandardFontDataFactory: () => (/* binding */ DOMStandardFontDataFactory),\n/* harmony export */   PDFDateString: () => (/* binding */ PDFDateString),\n/* harmony export */   PageViewport: () => (/* binding */ PageViewport),\n/* harmony export */   PixelsPerInch: () => (/* binding */ PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* binding */ RenderingCancelledException),\n/* harmony export */   StatTimer: () => (/* binding */ StatTimer),\n/* harmony export */   fetchData: () => (/* binding */ fetchData),\n/* harmony export */   getColorValues: () => (/* binding */ getColorValues),\n/* harmony export */   getCurrentTransform: () => (/* binding */ getCurrentTransform),\n/* harmony export */   getCurrentTransformInverse: () => (/* binding */ getCurrentTransformInverse),\n/* harmony export */   getFilenameFromUrl: () => (/* binding */ getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* binding */ getPdfFilenameFromUrl),\n/* harmony export */   getRGB: () => (/* binding */ getRGB),\n/* harmony export */   getXfaPageViewport: () => (/* binding */ getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* binding */ isDataScheme),\n/* harmony export */   isPdfFile: () => (/* binding */ isPdfFile),\n/* harmony export */   isValidFetchUrl: () => (/* binding */ isValidFetchUrl),\n/* harmony export */   noContextMenu: () => (/* binding */ noContextMenu),\n/* harmony export */   setLayerDimensions: () => (/* binding */ setLayerDimensions)\n/* harmony export */ });\n/* unused harmony export deprecated */\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(583);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nclass DOMFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    let tableR, tableG, tableB, key;\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      key = tableR = tableG = tableB = buffer.join(\",\");\n    } else {\n      const [mapR, mapG, mapB] = maps;\n      const bufferR = new Array(256);\n      const bufferG = new Array(256);\n      const bufferB = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        bufferR[i] = mapR[i] / 255;\n        bufferG[i] = mapG[i] / 255;\n        bufferB[i] = mapB[i] / 255;\n      }\n      tableR = bufferR.join(\",\");\n      tableG = bufferG.join(\",\");\n      tableB = bufferB.join(\",\");\n      key = `${tableR}${tableG}${tableB}`;\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = `url(#${id})`;\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = `url(#${id})`;\n    return info.url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = `url(#${id})`;\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#hcmCache.size !== 0) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\nclass DOMCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass DOMCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\").then(data => ({\n      cMapData: data instanceof ArrayBuffer ? new Uint8Array(data) : (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.stringToBytes)(data),\n      compressionType\n    }));\n  }\n}\nclass DOMStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, \"arraybuffer\").then(data => new Uint8Array(data));\n  }\n}\nclass DOMSVGFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const {\n      viewBox\n    } = this;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([x, y], this.transform);\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyInverseTransform([x, y], this.transform);\n  }\n}\nclass RenderingCancelledException extends _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url, onlyStripPath = false) {\n  if (!onlyStripPath) {\n    [url] = url.split(/[#?]/, 1);\n  }\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false;\n  }\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nlet pdfDateStringRegex;\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    pdfDateStringRegex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.isCSSRoundSupported;\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(${w}, 1px)` : `calc(${w})`,\n      heightStr = useRound ? `round(${h}, 1px)` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 47:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrawLayer: () => (/* binding */ DrawLayer)\n/* harmony export */ });\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(419);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nclass DrawLayer {\n  #parent = null;\n  #id = 0;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"_svgFactory\", new _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.DOMSVGFactory());\n  }\n  static #setBox(element, {\n    x = 0,\n    y = 0,\n    width = 1,\n    height = 1\n  } = {}) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG(box) {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    DrawLayer.#setBox(svg, box);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  highlight(outlines, color, opacity, isPathUpdatable = false) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlight\");\n    if (outlines.free) {\n      root.classList.add(\"free\");\n    }\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = this.#createClipPath(defs, pathId);\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    root.setAttribute(\"fill\", color);\n    root.setAttribute(\"fill-opacity\", opacity);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  highlightOutline(outlines) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlightOutline\");\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (outlines.free) {\n      root.classList.add(\"free\");\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeLine(id, line) {\n    const path = this.#toUpdate.get(id);\n    this.#toUpdate.delete(id);\n    this.updateBox(id, line.box);\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  updateLine(id, line) {\n    const root = this.#mapping.get(id);\n    const defs = root.firstChild;\n    const path = defs.firstChild;\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  removeFreeHighlight(id) {\n    this.remove(id);\n    this.#toUpdate.delete(id);\n  }\n  updatePath(id, line) {\n    this.#toUpdate.get(id).setAttribute(\"d\", line.toSVGPath());\n  }\n  updateBox(id, box) {\n    DrawLayer.#setBox(this.#mapping.get(id), box);\n  }\n  show(id, visible) {\n    this.#mapping.get(id).classList.toggle(\"hidden\", !visible);\n  }\n  rotate(id, angle) {\n    this.#mapping.get(id).setAttribute(\"data-main-rotation\", angle);\n  }\n  changeColor(id, color) {\n    this.#mapping.get(id).setAttribute(\"fill\", color);\n  }\n  changeOpacity(id, opacity) {\n    this.#mapping.get(id).setAttribute(\"fill-opacity\", opacity);\n  }\n  addClass(id, className) {\n    this.#mapping.get(id).classList.add(className);\n  }\n  removeClass(id, className) {\n    this.#mapping.get(id).classList.remove(className);\n  }\n  remove(id) {\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n  }\n}\n\n\n/***/ }),\n\n/***/ 731:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditorLayer: () => (/* binding */ AnnotationEditorLayer)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/editor/editor.js + 1 modules\nvar editor_editor = __webpack_require__(310);\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(830);\n// EXTERNAL MODULE: ./src/display/annotation_layer.js + 1 modules\nvar annotation_layer = __webpack_require__(976);\n;// CONCATENATED MODULE: ./src/display/editor/freetext.js\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends editor_editor.AnnotationEditor {\n  #boundEditorDivBlur = this.editorDivBlur.bind(this);\n  #boundEditorDivFocus = this.editorDivFocus.bind(this);\n  #boundEditorDivInput = this.editorDivInput.bind(this);\n  #boundEditorDivKeydown = this.editorDivKeydown.bind(this);\n  #boundEditorDivPaste = this.editorDivPaste.bind(this);\n  #color;\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #fontSize;\n  #initialData = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = util.AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.#color = params.color || FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager, {\n      strings: [\"pdfjs-free-text-default-content\"]\n    });\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, this.#color]];\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(util.AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.editorDiv.addEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.addEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.addEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.addEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.addEventListener(\"paste\", this.#boundEditorDivPaste);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.editorDiv.removeEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.removeEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.removeEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.removeEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.removeEventListener(\"paste\", this.#boundEditorDivPaste);\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded() {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    for (const child of this.editorDiv.childNodes) {\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text\");\n    this.enableEditing();\n    editor_editor.AnnotationEditor._l10nPromise.get(\"pdfjs-free-text-default-content\").then(msg => this.editorDiv?.setAttribute(\"default-content\", msg));\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    (0,tools.bindEvents)(this, this.div, [\"dblclick\", \"keydown\"]);\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this.#initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = bufferBefore.reduce((acc, line) => acc + line.length, 0);\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  static deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof annotation_layer.FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: util.AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false\n      };\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = util.Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor.annotationElementId = data.id || null;\n    editor.#initialData = initialData;\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return {\n        pageIndex: this.pageIndex,\n        id: this.annotationElementId,\n        deleted: true\n      };\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#color);\n    const serialized = {\n      annotationType: util.AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this.#initialData;\n    return this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (this.deleted) {\n      return content;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    annotation.updateEdited({\n      rect: this.getRect(padding, padding)\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/editor/outliner.js\nvar editor_outliner = __webpack_require__(61);\n// EXTERNAL MODULE: ./src/display/editor/color_picker.js\nvar color_picker = __webpack_require__(259);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/editor/highlight.js\n\n\n\n\n\n\nclass HighlightEditor extends editor_editor.AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #boundKeydown = this.#keydown.bind(this);\n  #lastPoint = null;\n  #opacity;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _l10nPromise;\n  static _type = \"highlight\";\n  static _editorType = util.AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new editor_outliner.Outliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    ({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    } = this.#highlightOutlines.box);\n    const outlinerForOutline = new editor_outliner.Outliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeLine(highlightId, highlightOutlines);\n      this.#outlineId = this.parent.drawLayer.highlightOutline(this.#focusOutlines);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateLine(this.#id, highlightOutlines);\n      this.parent.drawLayer.updateBox(this.#id, HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360));\n      this.parent.drawLayer.updateLine(this.#outlineId, this.#focusOutlines);\n      this.parent.drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n    }\n    const {\n      x,\n      y,\n      width,\n      height\n    } = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR, HighlightEditor._defaultColor], [util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [util.AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.parent?.drawLayer.changeColor(this.#id, col);\n      this.#colorPicker?.updateColor(col);\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.highlightColorNames.get(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  async addEditToolbar() {\n    const toolbar = await super.addEditToolbar();\n    if (!toolbar) {\n      return null;\n    }\n    if (this._uiManager.highlightColors) {\n      this.#colorPicker = new color_picker.ColorPicker({\n        editor: this\n      });\n      toolbar.addColorPicker(this.#colorPicker);\n    }\n    return toolbar;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded() {\n    this.parent.addUndoableEditor(this);\n    this.div.focus();\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.highlight(this.#highlightOutlines, this.color, this.#opacity));\n    this.#outlineId = parent.drawLayer.highlightOutline(this.#focusOutlines);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox({\n    x,\n    y,\n    width,\n    height\n  }, angle) {\n    switch (angle) {\n      case 90:\n        return {\n          x: 1 - y - height,\n          y: x,\n          width: height,\n          height: width\n        };\n      case 180:\n        return {\n          x: 1 - x - width,\n          y: 1 - y - height,\n          width,\n          height\n        };\n      case 270:\n        return {\n          x: y,\n          y: 1 - x - width,\n          width: height,\n          height: width\n        };\n    }\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox(this, angle);\n    }\n    drawLayer.rotate(this.#id, angle);\n    drawLayer.rotate(this.#outlineId, angle);\n    drawLayer.updateBox(this.#id, box);\n    drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#boundKeydown);\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n    (0,tools.bindEvents)(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    this.parent.drawLayer.addClass(this.#outlineId, \"hovered\");\n  }\n  pointerleave() {\n    this.parent.drawLayer.removeClass(this.#outlineId, \"hovered\");\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    this.parent?.drawLayer.addClass(this.#outlineId, \"selected\");\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"selected\");\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.show(this.#id, visible);\n      this.parent.drawLayer.show(this.#outlineId, visible);\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const boxes = this.#boxes;\n    const quadPoints = new Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth;\n      const sy = (1 - y - height) * pageHeight;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy + height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const pointerMove = e => {\n      this.#highlightMove(parent, e);\n    };\n    const pointerDownOptions = {\n      capture: true,\n      passive: false\n    };\n    const pointerDown = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const pointerUpCallback = e => {\n      textLayer.removeEventListener(\"pointermove\", pointerMove);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n      window.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback);\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n    window.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    textLayer.addEventListener(\"pointermove\", pointerMove);\n    this._freeHighlight = new editor_outliner.FreeOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.highlight(this._freeHighlight, this._defaultColor, this._defaultOpacity, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updatePath(this._freeHighlightId, this._freeHighlight);\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.removeFreeHighlight(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect: [blX, blY, trX, trY],\n      color,\n      quadPoints\n    } = data;\n    editor.color = util.Util.makeHexColor(...color);\n    editor.#opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    editor.width = (trX - blX) / pageWidth;\n    editor.height = (trY - blY) / pageHeight;\n    const boxes = editor.#boxes = [];\n    for (let i = 0; i < quadPoints.length; i += 8) {\n      boxes.push({\n        x: (quadPoints[4] - trX) / pageWidth,\n        y: (trY - (1 - quadPoints[i + 5])) / pageHeight,\n        width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n        height: (quadPoints[i + 5] - quadPoints[i + 1]) / pageHeight\n      });\n    }\n    editor.#createOutlines();\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.color);\n    return {\n      annotationType: util.AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/ink.js\n\n\n\n\n\nclass InkEditor extends editor_editor.AnnotationEditor {\n  #baseHeight = 0;\n  #baseWidth = 0;\n  #boundCanvasPointermove = this.canvasPointermove.bind(this);\n  #boundCanvasPointerleave = this.canvasPointerleave.bind(this);\n  #boundCanvasPointerup = this.canvasPointerup.bind(this);\n  #boundCanvasPointerdown = this.canvasPointerdown.bind(this);\n  #canvasContextMenuTimeoutId = null;\n  #currentPath2D = new Path2D();\n  #disableEditing = false;\n  #hasSomethingToDraw = false;\n  #isCanvasInitialized = false;\n  #observer = null;\n  #realWidth = 0;\n  #realHeight = 0;\n  #requestFrameCallback = null;\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 1;\n  static _type = \"ink\";\n  static _editorType = util.AnnotationEditorType.INK;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(InkEditor._defaultOpacity * 100)]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, this.thickness || InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, this.color || InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity))]];\n  }\n  #updateThickness(thickness) {\n    const setThickness = th => {\n      this.thickness = th;\n      this.#fitToContent();\n    };\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.#redraw();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateOpacity(opacity) {\n    const setOpacity = op => {\n      this.opacity = op;\n      this.#redraw();\n    };\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setOpacity.bind(this, opacity),\n      undo: setOpacity.bind(this, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n    this.#observer.disconnect();\n    this.#observer = null;\n    super.remove();\n  }\n  setParent(parent) {\n    if (!this.parent && parent) {\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n  isEmpty() {\n    return this.paths.length === 0 || this.paths.length === 1 && this.paths[0].length === 0;\n  }\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height]\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n  #setStroke() {\n    const {\n      ctx,\n      color,\n      opacity,\n      thickness,\n      parentScale,\n      scaleFactor\n    } = this;\n    ctx.lineWidth = thickness * parentScale / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${(0,tools.opacityToHex)(opacity)}`;\n  }\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    this.canvas.addEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.addEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.addEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||= InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n    this.#makeBezierCurve(path2D, ...currentPath.at(-3), ...currentPath.at(-2), x, y);\n  }\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n    this.#draw(x, y);\n    this.#endPath();\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this._uiManager.rebuild(this);\n    };\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n    const {\n      ctx\n    } = this;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n    ctx.restore();\n  }\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n    path2D.bezierCurveTo(prevX + 2 * (x1 - prevX) / 3, prevY + 2 * (y1 - prevY) / 3, x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3, x3, y3);\n  }\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n      const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n      const control2 = [x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3];\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n      [x0, y0] = [x3, y3];\n    }\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n    const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n    const control2 = [x2 + 2 * (x1 - x2) / 3, y2 + 2 * (y1 - y2) / 3];\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n    const {\n      canvas,\n      ctx\n    } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n    super.commit();\n    this.isEditing = false;\n    this.disableEditMode();\n    this.setInForeground();\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n    this.#fitToContent(true);\n    this.select();\n    this.parent.addInkEditorIfNeeded(true);\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true\n    });\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n    this.setInForeground();\n    event.preventDefault();\n    if (!this.div.contains(document.activeElement)) {\n      this.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n  #endDrawing(event) {\n    this.canvas.removeEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.removeEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.removeEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n    }, 10);\n    this.#stopDrawing(event.offsetX, event.offsetY);\n    this.addToAnnotationStorage();\n    this.setInBackground();\n  }\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n    this.#createCanvas();\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n    this.#createObserver();\n    return this.div;\n  }\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (this.#realWidth === roundedWidth && this.#realHeight === roundedHeight) {\n      return;\n    }\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n    this.canvas.style.visibility = \"hidden\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n    this.#setCanvasDims();\n    this.#redraw();\n    this.canvas.style.visibility = \"visible\";\n    this.fixDims();\n  }\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(this.scaleFactor, 0, 0, this.scaleFactor, this.translationX * this.scaleFactor + padding, this.translationY * this.scaleFactor + padding);\n  }\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(control1[0], control1[1], control2[0], control2[1], second[0], second[1]);\n    }\n    return path2D;\n  }\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        if (first[0] === second[0] && first[1] === second[1] && jj === 1) {\n          const p0 = s * first[0] + shiftX;\n          const p1 = s * first[1] + shiftY;\n          buffer.push(p0, p1);\n          points.push(p0, p1);\n          break;\n        }\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation)\n      });\n    }\n    return paths;\n  }\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = util.Util.bezierBoundingBox(...first, ...control1, ...control2, ...second);\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n    return [xMin, yMin, xMax, yMax];\n  }\n  #getPadding() {\n    return this.#disableEditing ? Math.ceil(this.thickness * this.parentScale) : 0;\n  }\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setAspectRatio(width, height);\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n    this.#realWidth = width;\n    this.#realHeight = height;\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(prevTranslationX - this.translationX - unscaledPadding, prevTranslationY - this.translationY - unscaledPadding);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.InkAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.thickness = data.thickness;\n    editor.color = util.Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n    const {\n      paths,\n      rect,\n      rotation\n    } = data;\n    for (let {\n      bezier\n    } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([[p0, p1], [p10, p11], [p20, p21], [p30, p31]]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n    return editor;\n  }\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n    return {\n      annotationType: util.AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(this.scaleFactor / this.parentScale, this.translationX, this.translationY, rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends editor_editor.AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #observer = null;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = util.AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static get supportedTypes() {\n    const types = [\"apng\", \"avif\", \"bmp\", \"gif\", \"jpeg\", \"png\", \"svg+xml\", \"webp\", \"x-icon\"];\n    return (0,util.shadow)(this, \"supportedTypes\", types.map(type => `image/${type}`));\n  }\n  static get supportedTypesStr() {\n    return (0,util.shadow)(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor(util.AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (this.#canvas) {\n      this.div.focus();\n    }\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId);\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.addAltTextButton();\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    }\n    return this.div;\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(width * parentWidth / pageWidth, height * parentHeight / pageHeight);\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    div.append(canvas);\n    div.hidden = false;\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setDims(width, height);\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === width && canvas.height === height) {\n      return;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(width, height);\n    if (this._uiManager.hasMLManager && !this.hasAltText()) {\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n      offscreen.convertToBlob().then(blob => {\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          const url = fileReader.result;\n          this._uiManager.mlGuess({\n            service: \"image-to-text\",\n            request: {\n              imageData: url\n            }\n          }).then(response => {\n            const altText = response?.output || \"\";\n            if (this.parent && altText && !this.hasAltText()) {\n              this.altTextData = {\n                altText,\n                decorative: false\n              };\n            }\n          });\n        };\n        fileReader.readAsDataURL(blob);\n      });\n    }\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n  }\n  getImageForAltText() {\n    return this.#canvas;\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.StampAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const serialized = {\n      annotationType: util.AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.altTextData;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.altTextData;\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #boundPointerup = null;\n  #boundPointerdown = null;\n  #boundTextLayerPointerDown = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isCleaningUp = false;\n  #isDisabling = false;\n  #textLayer = null;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === util.AnnotationEditorType.NONE;\n  }\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case util.AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case util.AnnotationEditorType.INK:\n        this.addInkEditorIfNeeded(false);\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.disableClick();\n        break;\n      case util.AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  addInkEditorIfNeeded(isCommitting) {\n    if (this.#uiManager.getMode() !== util.AnnotationEditorType.INK) {\n      return;\n    }\n    if (!isCommitting) {\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n    const editor = this.createAndAddNewEditor({\n      offsetX: 0,\n      offsetY: 0\n    }, false);\n    editor.setInBackground();\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n  enable() {\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    if (!this.#annotationLayer) {\n      return;\n    }\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n    if (this.#annotationLayer) {\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          editor.renderAnnotationElement(editable);\n          editor.show(false);\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#boundTextLayerPointerDown) {\n      this.#boundTextLayerPointerDown = this.#textLayerPointerDown.bind(this);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#boundTextLayerPointerDown) {\n      this.#textLayer.div.removeEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#boundTextLayerPointerDown = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    if (event.target === this.#textLayer.div) {\n      const {\n        isMac\n      } = util.FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", event);\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n      }, {\n        once: true\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#boundPointerdown) {\n      return;\n    }\n    this.#boundPointerdown = this.pointerdown.bind(this);\n    this.#boundPointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.addEventListener(\"pointerup\", this.#boundPointerup);\n  }\n  disableClick() {\n    if (!this.#boundPointerdown) {\n      return;\n    }\n    this.div.removeEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.removeEventListener(\"pointerup\", this.#boundPointerup);\n    this.#boundPointerdown = null;\n    this.#boundPointerup = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(false);\n    }\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      editor_editor.AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  deserialize(data) {\n    return AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor() {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  isSelected(editor) {\n    return this.#uiManager.isSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n    this.addInkEditorIfNeeded(false);\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n\n/***/ }),\n\n/***/ 259:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorPicker: () => (/* binding */ ColorPicker)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(830);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n\n\n\nclass ColorPicker {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundPointerDown = this.#pointerDown.bind(this);\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #uiManager = null;\n  #type;\n  static get _keyboardManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new _tools_js__WEBPACK_IMPORTED_MODULE_1__.KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#type = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_COLOR;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n      this.#type = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.setAttribute(\"aria-haspopup\", true);\n    button.addEventListener(\"click\", this.#openDropdown.bind(this));\n    button.addEventListener(\"keydown\", this.#boundKeyDown);\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.setAttribute(\"aria-hidden\", true);\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.setAttribute(\"aria-orientation\", \"horizontal\");\n    dropdown.setAttribute(\"aria-labelledby\", \"highlightColorPickerLabel\");\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    div.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu);\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.setAttribute(\"aria-multiselectable\", false);\n    div.setAttribute(\"aria-orientation\", \"vertical\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", `pdfjs-editor-colorpicker-${name}`);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.setAttribute(\"aria-selected\", color === this.#defaultColor);\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color));\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#boundKeyDown);\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: this.#type,\n      value: color\n    });\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    window.addEventListener(\"pointerdown\", this.#boundPointerDown);\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    window.removeEventListener(\"pointerdown\", this.#boundPointerDown);\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.setAttribute(\"aria-selected\", i.next().value === color);\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\n\n/***/ }),\n\n/***/ 310:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditor: () => (/* binding */ AnnotationEditor)\n});\n\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(830);\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = \"\";\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #editor = null;\n  static _l10nPromise = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  static initialize(l10nPromise) {\n    AltText._l10nPromise ||= l10nPromise;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    const msg = await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-button-label\");\n    altText.textContent = msg;\n    altText.setAttribute(\"aria-label\", msg);\n    altText.tabIndex = \"0\";\n    altText.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation());\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    });\n    await this.#setState();\n    return altText;\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative\n  }) {\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    this.#altText = altText;\n    this.#altTextDecorative = decorative;\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextTooltip = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (!this.#altText && !this.#altTextDecorative) {\n      button.classList.remove(\"done\");\n      this.#altTextTooltip?.remove();\n      return;\n    }\n    button.classList.add(\"done\");\n    AltText._l10nPromise.get(\"pdfjs-editor-alt-text-edit-button-label\").then(msg => {\n      button.setAttribute(\"aria-label\", msg);\n    });\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      const id = tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      button.setAttribute(\"aria-describedby\", id);\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      });\n    }\n    tooltip.innerText = this.#altTextDecorative ? await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-decorative-tooltip\") : this.#altText;\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/editor/toolbar.js\nvar toolbar = __webpack_require__(362);\n;// CONCATENATED MODULE: ./src/display/editor/editor.js\n\n\n\n\n\nclass AnnotationEditor {\n  #allResizerDivs = null;\n  #altText = null;\n  #disabled = false;\n  #keepAspectRatio = false;\n  #resizersDiv = null;\n  #savedDimensions = null;\n  #boundFocusin = this.focusin.bind(this);\n  #boundFocusout = this.focusout.bind(this);\n  #editToolbar = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialPosition = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  _initialOptions = Object.create(null);\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  _l10nPromise = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new tools.ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_resizerKeyboardManager\", new tools.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    if (this.constructor === AnnotationEditor) {\n      (0,util.unreachable)(\"Cannot initialize AnnotationEditor.\");\n    }\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  static get _defaultLineColor() {\n    return (0,util.shadow)(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager, options) {\n    AnnotationEditor._l10nPromise ||= new Map([\"pdfjs-editor-alt-text-button-label\", \"pdfjs-editor-alt-text-edit-button-label\", \"pdfjs-editor-alt-text-decorative-tooltip\", \"pdfjs-editor-resizer-label-topLeft\", \"pdfjs-editor-resizer-label-topMiddle\", \"pdfjs-editor-resizer-label-topRight\", \"pdfjs-editor-resizer-label-middleRight\", \"pdfjs-editor-resizer-label-bottomRight\", \"pdfjs-editor-resizer-label-bottomMiddle\", \"pdfjs-editor-resizer-label-bottomLeft\", \"pdfjs-editor-resizer-label-middleLeft\"].map(str => [str, l10n.get(str.replaceAll(/([A-Z])/g, c => `-${c.toLowerCase()}`))]));\n    if (options?.strings) {\n      for (const str of options.strings) {\n        AnnotationEditor._l10nPromise.set(str, l10n.get(str));\n      }\n    }\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    (0,util.unreachable)(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialPosition ||= [this.x, this.y];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  drag(tx, ty) {\n    this.#initialPosition ||= [this.x, this.y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  get _hasBeenMoved() {\n    return !!this.#initialPosition && (this.#initialPosition[0] !== this.x || this.#initialPosition[1] !== this.y);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = Math.max(0, Math.min(pageWidth - width, x));\n          y = Math.max(0, Math.min(pageHeight - height, y));\n          break;\n        case 90:\n          x = Math.max(0, Math.min(pageWidth - height, x));\n          y = Math.min(pageHeight, Math.max(width, y));\n          break;\n        case 180:\n          x = Math.min(pageWidth, Math.max(width, x));\n          y = Math.min(pageHeight, Math.max(height, y));\n          break;\n        case 270:\n          x = Math.min(pageWidth, Math.max(height, x));\n          y = Math.max(0, Math.min(pageHeight - width, y));\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    const scaledWidth = pageWidth * parentScale;\n    const scaledHeight = pageHeight * parentScale;\n    return util.FeatureTest.isCSSRoundSupported ? [Math.round(scaledWidth), Math.round(scaledHeight)] : [scaledWidth, scaledHeight];\n  }\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${(100 * width / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${(100 * height / parentHeight).toFixed(2)}%`;\n    }\n  }\n  fixDims() {\n    const {\n      style\n    } = this.div;\n    const {\n      height,\n      width\n    } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${(100 * parseFloat(width) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${(100 * parseFloat(height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name));\n      div.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const boundResizerPointermove = this.#resizerPointermove.bind(this, name);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const pointerMoveOptions = {\n      passive: true,\n      capture: true\n    };\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n    window.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n      window.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true\n    });\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let [deltaX, deltaY] = this.screenToPageTranslation(event.movementX, event.movementY);\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = Math.max(minWidth, Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))) / savedWidth;\n    } else {\n      ratioY = Math.max(minHeight, Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))) / savedHeight;\n    }\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  async addEditToolbar() {\n    if (this.#editToolbar || this.#isInEditMode) {\n      return this.#editToolbar;\n    }\n    this.#editToolbar = new toolbar.EditorToolbar(this);\n    this.div.append(this.#editToolbar.render());\n    if (this.#altText) {\n      this.#editToolbar.addAltTextButton(await this.#altText.render());\n    }\n    return this.#editToolbar;\n  }\n  removeEditToolbar() {\n    if (!this.#editToolbar) {\n      return;\n    }\n    this.#editToolbar.remove();\n    this.#editToolbar = null;\n    this.#altText?.destroy();\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  async addAltTextButton() {\n    if (this.#altText) {\n      return;\n    }\n    AltText.initialize(AnnotationEditor._l10nPromise);\n    this.#altText = new AltText(this);\n    await this.addEditToolbar();\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  hasAltText() {\n    return !this.#altText?.isEmpty();\n  }\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.tabIndex = this.#disabled ? -1 : 0;\n    if (!this._isVisible) {\n      this.div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.div.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div.addEventListener(\"focusout\", this.#boundFocusout);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      this.div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    (0,tools.bindEvents)(this, this.div, [\"pointerdown\"]);\n    return this.div;\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const isSelected = this._uiManager.isSelected(this);\n    this._uiManager.setUpDragSession();\n    let pointerMoveOptions, pointerMoveCallback;\n    if (isSelected) {\n      this.div.classList.add(\"moving\");\n      pointerMoveOptions = {\n        passive: true,\n        capture: true\n      };\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      pointerMoveCallback = e => {\n        const {\n          clientX: x,\n          clientY: y\n        } = e;\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n    }\n    const pointerUpCallback = () => {\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      if (isSelected) {\n        this.div.classList.remove(\"moving\");\n        window.removeEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n      }\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(event);\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  onceAdded() {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  rebuild() {\n    this.div?.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div?.addEventListener(\"focusout\", this.#boundFocusout);\n  }\n  rotate(_angle) {}\n  serialize(isForCopying = false, context = null) {\n    (0,util.unreachable)(\"An editor must be serializable\");\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager\n    });\n    editor.rotation = data.rotation;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.div.removeEventListener(\"focusin\", this.#boundFocusin);\n    this.div.removeEventListener(\"focusout\", this.#boundFocusout);\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      (0,tools.bindEvents)(this, this.div, [\"keydown\"]);\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown);\n        div.addEventListener(\"blur\", boundResizerBlur);\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name));\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => div.setAttribute(\"aria-label\", msg));\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => child.setAttribute(\"aria-label\", msg));\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const {\n        savedX,\n        savedY,\n        savedWidth,\n        savedHeight\n      } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this.#editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this.#editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this.#editToolbar?.show();\n  }\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#editToolbar?.hide();\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  enterInEditMode() {}\n  getImageForAltText() {\n    return null;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const {\n      style\n    } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  renderAnnotationElement(annotation) {\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstChild\n    } = annotation.container;\n    if (firstChild.nodeName === \"DIV\" && firstChild.classList.contains(\"annotationContent\")) {\n      firstChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 61:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FreeOutliner: () => (/* binding */ FreeOutliner),\n/* harmony export */   Outliner: () => (/* binding */ Outliner)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass Outliner {\n  #box;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      minX = Math.min(minX, x1);\n      maxX = Math.max(maxX, x2);\n      minY = Math.min(minY, y1);\n      maxY = Math.max(maxY, y2);\n    }\n    const bboxWidth = maxX - minX + 2 * innerMargin;\n    const bboxHeight = maxY - minY + 2 * innerMargin;\n    const shiftedMinX = minX - innerMargin;\n    const shiftedMinY = minY - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = {\n      x: shiftedMinX,\n      y: shiftedMinY,\n      width: bboxWidth,\n      height: bboxHeight,\n      lastPoint\n    };\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass Outline {\n  toSVGPath() {\n    throw new Error(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    throw new Error(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    throw new Error(\"Abstract method `serialize` must be implemented.\");\n  }\n  get free() {\n    return this instanceof FreeHighlightOutline;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n}\nclass FreeOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float64Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeOutliner.#MIN_DIST + FreeOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  get free() {\n    return true;\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n    return buffer.join(\" \");\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const lastTop = last.subarray(4, 6);\n    const lastBottom = last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float64Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      const outline = new Float64Array(36);\n      outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n      return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n    }\n    const outline = new Float64Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], N);\n    N += 24;\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], N);\n    return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n}\nclass FreeHighlightOutline extends Outline {\n  #box;\n  #bbox = null;\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.#computeMinMax(isLTR);\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = this.#rescale(this.#outline, blX, trY, width, -height);\n        points = this.#rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = this.#rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = this.#rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = this.#rescale(this.#outline, trX, blY, -width, height);\n        points = this.#rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = this.#rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = this.#rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #rescale(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  #rescaleAndSwap(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    let minX = lastX;\n    let minY = lastY;\n    let maxX = lastX;\n    let maxY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      if (isNaN(outline[i])) {\n        minX = Math.min(minX, outline[i + 4]);\n        minY = Math.min(minY, outline[i + 5]);\n        maxX = Math.max(maxX, outline[i + 4]);\n        maxY = Math.max(maxY, outline[i + 5]);\n        if (lastPointY < outline[i + 5]) {\n          lastPointX = outline[i + 4];\n          lastPointY = outline[i + 5];\n        } else if (lastPointY === outline[i + 5]) {\n          lastPointX = ltrCallback(lastPointX, outline[i + 4]);\n        }\n      } else {\n        const bbox = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6));\n        minX = Math.min(minX, bbox[0]);\n        minY = Math.min(minY, bbox[1]);\n        maxX = Math.max(maxX, bbox[2]);\n        maxY = Math.max(maxY, bbox[3]);\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = outline[i + 4];\n      lastY = outline[i + 5];\n    }\n    const x = minX - this.#innerMargin,\n      y = minY - this.#innerMargin,\n      width = maxX - minX + 2 * this.#innerMargin,\n      height = maxY - minY + 2 * this.#innerMargin;\n    this.#bbox = {\n      x,\n      y,\n      width,\n      height,\n      lastPoint: [lastPointX, lastPointY]\n    };\n  }\n  get box() {\n    return this.#bbox;\n  }\n  getNewOutline(thickness, innerMargin) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = new FreeOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n\n/***/ }),\n\n/***/ 362:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorToolbar: () => (/* binding */ EditorToolbar),\n/* harmony export */   HighlightToolbar: () => (/* binding */ HighlightToolbar)\n/* harmony export */ });\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(419);\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown);\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    this.#addDeleteButton();\n    return editToolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #addListenersToElement(element) {\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true\n    });\n    element.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n  }\n  #addDeleteButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"delete\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-editor-remove-${this.#editor.editorType}-button`);\n    this.#addListenersToElement(button);\n    button.addEventListener(\"click\", e => {\n      this.#editor._uiManager.delete();\n    });\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  addAltTextButton(button) {\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  addColorPicker(colorPicker) {\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass HighlightToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    this.#addHighlightButton();\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #addHighlightButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"highlightButton\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-highlight-floating-button1`);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", \"pdfjs-highlight-floating-button-label\");\n    button.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    button.addEventListener(\"click\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    });\n    this.#buttons.append(button);\n  }\n}\n\n\n/***/ }),\n\n/***/ 830:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationEditorUIManager: () => (/* binding */ AnnotationEditorUIManager),\n/* harmony export */   ColorManager: () => (/* binding */ ColorManager),\n/* harmony export */   KeyboardManager: () => (/* binding */ KeyboardManager),\n/* harmony export */   bindEvents: () => (/* binding */ bindEvents),\n/* harmony export */   opacityToHex: () => (/* binding */ opacityToHex)\n/* harmony export */ });\n/* unused harmony export CommandManager */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n/* harmony import */ var _toolbar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(362);\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity))).toString(16).padStart(2, \"0\");\n}\nclass IdManager {\n  #id = 0;\n  constructor() {}\n  get id() {\n    return `${_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getUuid)();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\");\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.fetchData)(rawData, \"blob\");\n      } else {\n        image = data.file = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getColorValues)(colors);\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRGB)(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #activeEditor = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  #enableHighlightFloatingButton = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #highlightToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isWaiting = false;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #mlManager = null;\n  #mode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #boundBlur = this.blur.bind(this);\n  #boundFocus = this.focus.bind(this);\n  #boundCopy = this.copy.bind(this);\n  #boundCut = this.cut.bind(this);\n  #boundPaste = this.paste.bind(this);\n  #boundKeydown = this.keydown.bind(this);\n  #boundKeyup = this.keyup.bind(this);\n  #boundOnEditingAction = this.onEditingAction.bind(this);\n  #boundOnPageChanging = this.onPageChanging.bind(this);\n  #boundOnScaleChanging = this.onScaleChanging.bind(this);\n  #boundSelectionChange = this.#selectionChange.bind(this);\n  #boundOnRotationChanging = this.onRotationChanging.bind(this);\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, altTextManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, mlManager) {\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    this._eventBus._on(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._on(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._on(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._on(\"rotationchanging\", this.#boundOnRotationChanging);\n    this.#addSelectionListener();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n  }\n  destroy() {\n    this.#removeKeyboardManager();\n    this.#removeFocusManager();\n    this._eventBus._off(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._off(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._off(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._off(\"rotationchanging\", this.#boundOnRotationChanging);\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#highlightToolbar?.hide();\n    this.#highlightToolbar = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this.#removeSelectionListener();\n  }\n  async mlGuess(data) {\n    return this.#mlManager?.guess(data) || null;\n  }\n  get hasMLManager() {\n    return !!this.#mlManager;\n  }\n  get hcmFilter() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get highlightColors() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => pair.split(\"=\").map(x => x.trim()))) : null);\n  }\n  get highlightColorNames() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor) {\n    this.#altTextManager?.editAltText(this, editor);\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  highlightSelection(methodOfCreation = \"\") {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this._eventBus.dispatch(\"showannotationeditorui\", {\n        source: this,\n        mode: _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT\n      });\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        layer.createAndAddNewEditor({\n          x: 0,\n          y: 0\n        }, false, {\n          methodOfCreation,\n          boxes,\n          anchorNode,\n          anchorOffset,\n          focusNode,\n          focusOffset,\n          text\n        });\n        break;\n      }\n    }\n  }\n  #displayHighlightToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#highlightToolbar ||= new _toolbar_js__WEBPACK_IMPORTED_MODULE_2__.HighlightToolbar(this);\n    this.#highlightToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#highlightToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT && this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const pointerup = e => {\n        if (e.type === \"pointerup\" && e.button !== 0) {\n          return;\n        }\n        window.removeEventListener(\"pointerup\", pointerup);\n        window.removeEventListener(\"blur\", pointerup);\n        if (e.type === \"pointerup\") {\n          this.#onSelectEnd(\"main_toolbar\");\n        }\n      };\n      window.addEventListener(\"pointerup\", pointerup);\n      window.addEventListener(\"blur\", pointerup);\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayHighlightToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#boundSelectionChange);\n  }\n  #removeSelectionListener() {\n    document.removeEventListener(\"selectionchange\", this.#boundSelectionChange);\n  }\n  #addFocusManager() {\n    window.addEventListener(\"focus\", this.#boundFocus);\n    window.addEventListener(\"blur\", this.#boundBlur);\n  }\n  #removeFocusManager() {\n    window.removeEventListener(\"focus\", this.#boundFocus);\n    window.removeEventListener(\"blur\", this.#boundBlur);\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    window.addEventListener(\"keydown\", this.#boundKeydown);\n    window.addEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #removeKeyboardManager() {\n    window.removeEventListener(\"keydown\", this.#boundKeydown);\n    window.removeEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #addCopyPasteListeners() {\n    document.addEventListener(\"copy\", this.#boundCopy);\n    document.addEventListener(\"cut\", this.#boundCut);\n    document.addEventListener(\"paste\", this.#boundPaste);\n  }\n  #removeCopyPasteListeners() {\n    document.removeEventListener(\"copy\", this.#boundCopy);\n    document.removeEventListener(\"cut\", this.#boundCut);\n    document.removeEventListener(\"paste\", this.#boundPaste);\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    this.#mode = mode;\n    if (mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      return;\n    }\n    this.setEditingState(true);\n    this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId && isFromKeyboard) {\n      this.addNewEditorFromKeyboard();\n      return;\n    }\n    if (!editId) {\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n        break;\n      }\n    }\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor();\n        return;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        this.#mainHighlightColorPicker?.updateColor(value);\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      for (const layer of this.#allLayers.values()) {\n        layer.enable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  get imageManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 94:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFFetchStream: () => (/* binding */ PDFFetchStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (value === undefined) {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const getResponseHeader = name => response.headers.get(name);\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n\n/***/ }),\n\n/***/ 10:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontFaceObject: () => (/* binding */ FontFaceObject),\n/* harmony export */   FontLoader: () => (/* binding */ FontLoader)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this.disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    let supported = false;\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n      supported = true;\n    } else if (typeof navigator !== \"undefined\" && typeof navigator?.userAgent === \"string\" && /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)) {\n      supported = true;\n    }\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.string32)(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  constructor(translatedData, {\n    disableFontFace = false,\n    ignoreErrors = false,\n    inspectFont = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._inspectFont = inspectFont;\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(this.data);\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    if (!Array.isArray(cmds) || cmds.length === 0) {\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n    const commands = [];\n    for (let i = 0, ii = cmds.length; i < ii;) {\n      switch (cmds[i++]) {\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.BEZIER_CURVE_TO:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.bezierCurveTo(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.MOVE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.moveTo(a, b));\n            i += 2;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.LINE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.lineTo(a, b));\n            i += 2;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.QUADRATIC_CURVE_TO:\n          {\n            const [a, b, c, d] = cmds.slice(i, i + 4);\n            commands.push(ctx => ctx.quadraticCurveTo(a, b, c, d));\n            i += 4;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.RESTORE:\n          commands.push(ctx => ctx.restore());\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.SAVE:\n          commands.push(ctx => ctx.save());\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.SCALE:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(commands.length === 2, \"Scale command is only valid at the third position.\");\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.TRANSFORM:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.transform(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.TRANSLATE:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.translate(a, b));\n            i += 2;\n          }\n          break;\n      }\n    }\n    return this.compiledGlyphs[character] = function glyphDrawer(ctx, size) {\n      commands[0](ctx);\n      commands[1](ctx);\n      ctx.scale(size, -size);\n      for (let i = 2, ii = commands.length; i < ii; i++) {\n        commands[i](ctx);\n      }\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 62:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Metadata: () => (/* binding */ Metadata)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass Metadata {\n  #metadataMap;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n  getAll() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#metadataMap);\n  }\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\n\n/***/ }),\n\n/***/ 457:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNetworkStream: () => (/* binding */ PDFNetworkStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(data).buffer;\n}\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    const getResponseHeader = name => fullRequestXhr.getResponseHeader(name);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersReceivedCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n\n/***/ }),\n\n/***/ 490:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  createResponseStatusError: () => (/* binding */ createResponseStatusError),\n  extractFilenameFromHeader: () => (/* binding */ extractFilenameFromHeader),\n  validateRangeRequestCapabilities: () => (/* binding */ validateRangeRequestCapabilities),\n  validateResponseStatus: () => (/* binding */ validateResponseStatus)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n;// CONCATENATED MODULE: ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = (0,util.stringToBytes)(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/network_utils.js\n\n\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if ((0,display_utils.isPdfFile)(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new util.MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n\n/***/ }),\n\n/***/ 786:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNodeStream: () => (/* binding */ PDFNodeStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nlet fs, http, https, url;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n  fs = await import( /*webpackIgnore: true*/\"fs\");\n  http = await import( /*webpackIgnore: true*/\"http\");\n  https = await import( /*webpackIgnore: true*/\"https\");\n  url = await import( /*webpackIgnore: true*/\"url\");\n}\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n      const getResponseHeader = name => this._readableStream.headers[name.toLowerCase()];\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    fs.promises.lstat(path).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${path}\".`);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n}\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 573:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeCMapReaderFactory: () => (/* binding */ NodeCMapReaderFactory),\n/* harmony export */   NodeCanvasFactory: () => (/* binding */ NodeCanvasFactory),\n/* harmony export */   NodeFilterFactory: () => (/* binding */ NodeFilterFactory),\n/* harmony export */   NodeStandardFontDataFactory: () => (/* binding */ NodeStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(583);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nlet fs, canvas, path2d;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.isNodeJS) {\n  fs = await import( /*webpackIgnore: true*/\"fs\");\n  try {\n    canvas = await import( /*webpackIgnore: true*/\"canvas\");\n  } catch {}\n  try {\n    path2d = await import( /*webpackIgnore: true*/\"path2d\");\n  } catch {}\n}\nconst fetchData = function (url) {\n  return fs.promises.readFile(url).then(data => new Uint8Array(data));\n};\nclass NodeFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {}\nclass NodeCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  _createCanvas(width, height) {\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url).then(data => ({\n      cMapData: data,\n      compressionType\n    }));\n  }\n}\nclass NodeStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 626:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionalContentConfig: () => (/* binding */ OptionalContentConfig)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(651);\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage\n  }) {\n    this.#isDisplay = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n      return;\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          group._setVisible(INTERNAL, true);\n          break;\n        case \"OFF\":\n          group._setVisible(INTERNAL, false);\n          break;\n        case \"Toggle\":\n          group._setVisible(INTERNAL, !group.visible);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroups() {\n    return this.#groups.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#groups) : null;\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__.MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n}\n\n\n/***/ }),\n\n/***/ 814:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanupTextLayer: () => (/* binding */ cleanupTextLayer),\n/* harmony export */   renderTextLayer: () => (/* binding */ renderTextLayer),\n/* harmony export */   updateTextLayer: () => (/* binding */ updateTextLayer)\n/* harmony export */ });\n/* unused harmony export TextLayerRenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nlet _canvasContext = null;\nfunction getCtx() {\n  if (!_canvasContext) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.className = \"hiddenCanvasElement\";\n    document.body.append(canvas);\n    _canvasContext = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n  }\n  return _canvasContext;\n}\nfunction cleanupTextLayer() {\n  _canvasContext?.canvas.remove();\n  _canvasContext = null;\n}\nfunction getAscent(fontFamily) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n  const ctx = getCtx();\n  const savedFont = ctx.font;\n  ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    ctx.font = savedFont;\n    return ratio;\n  }\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.canvas.width = ctx.canvas.height = 0;\n  ctx.font = savedFont;\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\nfunction appendText(task, geom, styles) {\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL,\n    fontSize: 0\n  };\n  task._textDivs.push(textDiv);\n  const tx = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.transform(task._transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontFamily = task._fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(fontFamily);\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n  const scaleFactorStr = \"calc(var(--scale-factor)*\";\n  const divStyle = textDiv.style;\n  if (task._container === task._rootContainer) {\n    divStyle.left = `${(100 * left / task._pageWidth).toFixed(2)}%`;\n    divStyle.top = `${(100 * top / task._pageHeight).toFixed(2)}%`;\n  } else {\n    divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n    divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n  }\n  divStyle.fontSize = `${scaleFactorStr}${fontHeight.toFixed(2)}px)`;\n  divStyle.fontFamily = fontFamily;\n  textDivProperties.fontSize = fontHeight;\n  textDiv.setAttribute(\"role\", \"presentation\");\n  textDiv.textContent = geom.str;\n  textDiv.dir = geom.dir;\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  let shouldScaleText = false;\n  if (geom.str.length > 1) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._isReadableStream) {\n    task._layoutText(textDiv);\n  }\n}\nfunction layout(params) {\n  const {\n    div,\n    scale,\n    properties,\n    ctx,\n    prevFontSize,\n    prevFontFamily\n  } = params;\n  const {\n    style\n  } = div;\n  let transform = \"\";\n  if (properties.canvasWidth !== 0 && properties.hasText) {\n    const {\n      fontFamily\n    } = style;\n    const {\n      canvasWidth,\n      fontSize\n    } = properties;\n    if (prevFontSize !== fontSize || prevFontFamily !== fontFamily) {\n      ctx.font = `${fontSize * scale}px ${fontFamily}`;\n      params.prevFontSize = fontSize;\n      params.prevFontFamily = fontFamily;\n    }\n    const {\n      width\n    } = ctx.measureText(div.textContent);\n    if (width > 0) {\n      transform = `scaleX(${canvasWidth * scale / width})`;\n    }\n  }\n  if (properties.angle !== 0) {\n    transform = `rotate(${properties.angle}deg) ${transform}`;\n  }\n  if (transform.length > 0) {\n    style.transform = transform;\n  }\n}\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    capability.resolve();\n    return;\n  }\n  if (!task._isReadableStream) {\n    for (const textDiv of textDivs) {\n      task._layoutText(textDiv);\n    }\n  }\n  capability.resolve();\n}\nclass TextLayerRenderTask {\n  constructor({\n    textContentSource,\n    container,\n    viewport,\n    textDivs,\n    textDivProperties,\n    textContentItemsStr\n  }) {\n    this._textContentSource = textContentSource;\n    this._isReadableStream = textContentSource instanceof ReadableStream;\n    this._container = this._rootContainer = container;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n    this._reader = null;\n    this._textDivProperties = textDivProperties || new WeakMap();\n    this._canceled = false;\n    this._capability = Promise.withResolvers();\n    this._layoutTextParams = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale: viewport.scale * (globalThis.devicePixelRatio || 1),\n      properties: null,\n      ctx: getCtx()\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this._transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this._pageWidth = pageWidth;\n    this._pageHeight = pageHeight;\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, viewport);\n    this._capability.promise.finally(() => {\n      this._layoutTextParams = null;\n    }).catch(() => {});\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\")).catch(() => {});\n      this._reader = null;\n    }\n    this._capability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\"));\n  }\n  _processItems(items, styleCache) {\n    for (const item of items) {\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this._container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this._container);\n        } else if (item.type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(item.str);\n      appendText(this, item, styleCache);\n    }\n  }\n  _layoutText(textDiv) {\n    const textDivProperties = this._layoutTextParams.properties = this._textDivProperties.get(textDiv);\n    this._layoutTextParams.div = textDiv;\n    layout(this._layoutTextParams);\n    if (textDivProperties.hasText) {\n      this._container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.append(br);\n    }\n  }\n  _render() {\n    const {\n      promise,\n      resolve,\n      reject\n    } = Promise.withResolvers();\n    let styleCache = Object.create(null);\n    if (this._isReadableStream) {\n      const pump = () => {\n        this._reader.read().then(({\n          value,\n          done\n        }) => {\n          if (done) {\n            resolve();\n            return;\n          }\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, reject);\n      };\n      this._reader = this._textContentSource.getReader();\n      pump();\n    } else if (this._textContentSource) {\n      const {\n        items,\n        styles\n      } = this._textContentSource;\n      this._processItems(items, styles);\n      resolve();\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    promise.then(() => {\n      styleCache = null;\n      render(this);\n    }, this._capability.reject);\n  }\n}\nfunction renderTextLayer(params) {\n  const task = new TextLayerRenderTask(params);\n  task._render();\n  return task;\n}\nfunction updateTextLayer({\n  container,\n  viewport,\n  textDivs,\n  textDivProperties,\n  mustRotate = true,\n  mustRescale = true\n}) {\n  if (mustRotate) {\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, {\n      rotation: viewport.rotation\n    });\n  }\n  if (mustRescale) {\n    const ctx = getCtx();\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const params = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale,\n      properties: null,\n      ctx\n    };\n    for (const div of textDivs) {\n      params.properties = textDivProperties.get(div);\n      params.div = div;\n      layout(params);\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 585:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataTransportStream: () => (/* binding */ PDFDataTransportStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.isPdfFile)(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n\n/***/ }),\n\n/***/ 164:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalWorkerOptions: () => (/* binding */ GlobalWorkerOptions)\n/* harmony export */ });\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n\n/***/ }),\n\n/***/ 284:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaLayer: () => (/* binding */ XfaLayer)\n/* harmony export */ });\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50);\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n\n/***/ }),\n\n/***/ 50:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaText: () => (/* binding */ XfaText)\n/* harmony export */ });\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 228:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException),\n/* harmony export */   AnnotationEditorLayer: () => (/* reexport safe */ _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__.AnnotationEditorLayer),\n/* harmony export */   AnnotationEditorParamsType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType),\n/* harmony export */   AnnotationEditorUIManager: () => (/* reexport safe */ _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__.AnnotationEditorUIManager),\n/* harmony export */   AnnotationLayer: () => (/* reexport safe */ _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__.AnnotationLayer),\n/* harmony export */   AnnotationMode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode),\n/* harmony export */   CMapCompressionType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType),\n/* harmony export */   ColorPicker: () => (/* reexport safe */ _display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__.ColorPicker),\n/* harmony export */   DOMSVGFactory: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMSVGFactory),\n/* harmony export */   DrawLayer: () => (/* reexport safe */ _display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__.DrawLayer),\n/* harmony export */   FeatureTest: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest),\n/* harmony export */   GlobalWorkerOptions: () => (/* reexport safe */ _display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__.GlobalWorkerOptions),\n/* harmony export */   ImageKind: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException),\n/* harmony export */   MissingPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException),\n/* harmony export */   OPS: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.OPS),\n/* harmony export */   Outliner: () => (/* reexport safe */ _display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__.Outliner),\n/* harmony export */   PDFDataRangeTransport: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFDataRangeTransport),\n/* harmony export */   PDFDateString: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PDFDateString),\n/* harmony export */   PDFWorker: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFWorker),\n/* harmony export */   PasswordResponses: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PermissionFlag),\n/* harmony export */   PixelsPerInch: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException),\n/* harmony export */   UnexpectedResponseException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException),\n/* harmony export */   Util: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util),\n/* harmony export */   VerbosityLevel: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.VerbosityLevel),\n/* harmony export */   XfaLayer: () => (/* reexport safe */ _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__.XfaLayer),\n/* harmony export */   build: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.build),\n/* harmony export */   createValidAbsoluteUrl: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.createValidAbsoluteUrl),\n/* harmony export */   fetchData: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.fetchData),\n/* harmony export */   getDocument: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.getDocument),\n/* harmony export */   getFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getPdfFilenameFromUrl),\n/* harmony export */   getXfaPageViewport: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme),\n/* harmony export */   isPdfFile: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isPdfFile),\n/* harmony export */   noContextMenu: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu),\n/* harmony export */   normalizeUnicode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnicode),\n/* harmony export */   renderTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.renderTextLayer),\n/* harmony export */   setLayerDimensions: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.setLayerDimensions),\n/* harmony export */   shadow: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow),\n/* harmony export */   updateTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.updateTextLayer),\n/* harmony export */   version: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.version)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(831);\n/* harmony import */ var _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n/* harmony import */ var _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(814);\n/* harmony import */ var _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(731);\n/* harmony import */ var _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(830);\n/* harmony import */ var _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(976);\n/* harmony import */ var _display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(259);\n/* harmony import */ var _display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47);\n/* harmony import */ var _display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(164);\n/* harmony import */ var _display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(61);\n/* harmony import */ var _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(284);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_display_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n_display_api_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.2.67\";\nconst pdfjsBuild = \"49b388101\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 178:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageHandler: () => (/* binding */ MessageHandler)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.details);\n    default:\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.toString());\n  }\n}\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this.#processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n      if (data.streamId) {\n        this.#createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\n\n/***/ }),\n\n/***/ 651:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MurmurHash3_64: () => (/* binding */ MurmurHash3_64)\n/* harmony export */ });\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 292:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* binding */ AbortException),\n/* harmony export */   AnnotationBorderStyleType: () => (/* binding */ AnnotationBorderStyleType),\n/* harmony export */   AnnotationEditorParamsType: () => (/* binding */ AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorPrefix: () => (/* binding */ AnnotationEditorPrefix),\n/* harmony export */   AnnotationEditorType: () => (/* binding */ AnnotationEditorType),\n/* harmony export */   AnnotationMode: () => (/* binding */ AnnotationMode),\n/* harmony export */   AnnotationPrefix: () => (/* binding */ AnnotationPrefix),\n/* harmony export */   AnnotationType: () => (/* binding */ AnnotationType),\n/* harmony export */   BaseException: () => (/* binding */ BaseException),\n/* harmony export */   CMapCompressionType: () => (/* binding */ CMapCompressionType),\n/* harmony export */   FONT_IDENTITY_MATRIX: () => (/* binding */ FONT_IDENTITY_MATRIX),\n/* harmony export */   FeatureTest: () => (/* binding */ FeatureTest),\n/* harmony export */   FontRenderOps: () => (/* binding */ FontRenderOps),\n/* harmony export */   FormatError: () => (/* binding */ FormatError),\n/* harmony export */   IDENTITY_MATRIX: () => (/* binding */ IDENTITY_MATRIX),\n/* harmony export */   ImageKind: () => (/* binding */ ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* binding */ InvalidPDFException),\n/* harmony export */   LINE_FACTOR: () => (/* binding */ LINE_FACTOR),\n/* harmony export */   MAX_IMAGE_SIZE_TO_CACHE: () => (/* binding */ MAX_IMAGE_SIZE_TO_CACHE),\n/* harmony export */   MissingPDFException: () => (/* binding */ MissingPDFException),\n/* harmony export */   OPS: () => (/* binding */ OPS),\n/* harmony export */   PasswordException: () => (/* binding */ PasswordException),\n/* harmony export */   PasswordResponses: () => (/* binding */ PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* binding */ PermissionFlag),\n/* harmony export */   RenderingIntentFlag: () => (/* binding */ RenderingIntentFlag),\n/* harmony export */   TextRenderingMode: () => (/* binding */ TextRenderingMode),\n/* harmony export */   UnexpectedResponseException: () => (/* binding */ UnexpectedResponseException),\n/* harmony export */   UnknownErrorException: () => (/* binding */ UnknownErrorException),\n/* harmony export */   Util: () => (/* binding */ Util),\n/* harmony export */   VerbosityLevel: () => (/* binding */ VerbosityLevel),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   bytesToString: () => (/* binding */ bytesToString),\n/* harmony export */   createValidAbsoluteUrl: () => (/* binding */ createValidAbsoluteUrl),\n/* harmony export */   getUuid: () => (/* binding */ getUuid),\n/* harmony export */   getVerbosityLevel: () => (/* binding */ getVerbosityLevel),\n/* harmony export */   info: () => (/* binding */ info),\n/* harmony export */   isNodeJS: () => (/* binding */ isNodeJS),\n/* harmony export */   normalizeUnicode: () => (/* binding */ normalizeUnicode),\n/* harmony export */   objectFromMap: () => (/* binding */ objectFromMap),\n/* harmony export */   setVerbosityLevel: () => (/* binding */ setVerbosityLevel),\n/* harmony export */   shadow: () => (/* binding */ shadow),\n/* harmony export */   string32: () => (/* binding */ string32),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   unreachable: () => (/* binding */ unreachable),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* unused harmony exports AnnotationActionEventType, AnnotationFieldFlag, AnnotationFlag, AnnotationReplyType, BASELINE_FACTOR, DocumentActionEventType, getModificationDate, isArrayEqual, LINE_DESCENT_FACTOR, objectSize, PageActionEventType, stringToPDFString, stringToUTF8String, utf8StringToString */\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6;\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_DEFAULT_COLOR: 32,\n  HIGHLIGHT_THICKNESS: 33,\n  HIGHLIGHT_FREE: 34,\n  HIGHLIGHT_SHOW_ALL: 35\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {}\n  return null;\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get platform() {\n    if (typeof navigator !== \"undefined\" && typeof navigator?.platform === \"string\") {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\")\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], x0, x3);\n      minMax[1] = Math.min(minMax[1], y0, y3);\n      minMax[2] = Math.max(minMax[2], x0, x3);\n      minMax[3] = Math.max(minMax[3], y0, y3);\n    } else {\n      minMax = [Math.min(x0, x3), Math.min(y0, y3), Math.max(x0, x3), Math.max(y0, y3)];\n    }\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n    return minMax;\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (!decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues === \"function\") {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nconst FontRenderOps = {\n  BEZIER_CURVE_TO: 0,\n  MOVE_TO: 1,\n  LINE_TO: 2,\n  QUADRATIC_CURVE_TO: 3,\n  RESTORE: 4,\n  SAVE: 5,\n  SCALE: 6,\n  TRANSFORM: 7,\n  TRANSLATE: 8\n};\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t// no module.id needed\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/async module */\n/******/ (() => {\n/******/ \tvar webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\n/******/ \tvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\n/******/ \tvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\n/******/ \tvar resolveQueue = (queue) => {\n/******/ \t\tif(queue && queue.d < 1) {\n/******/ \t\t\tqueue.d = 1;\n/******/ \t\t\tqueue.forEach((fn) => (fn.r--));\n/******/ \t\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n/******/ \t\t}\n/******/ \t}\n/******/ \tvar wrapDeps = (deps) => (deps.map((dep) => {\n/******/ \t\tif(dep !== null && typeof dep === \"object\") {\n/******/ \t\t\tif(dep[webpackQueues]) return dep;\n/******/ \t\t\tif(dep.then) {\n/******/ \t\t\t\tvar queue = [];\n/******/ \t\t\t\tqueue.d = 0;\n/******/ \t\t\t\tdep.then((r) => {\n/******/ \t\t\t\t\tobj[webpackExports] = r;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t}, (e) => {\n/******/ \t\t\t\t\tobj[webpackError] = e;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t});\n/******/ \t\t\t\tvar obj = {};\n/******/ \t\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n/******/ \t\t\t\treturn obj;\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tvar ret = {};\n/******/ \t\tret[webpackQueues] = x => {};\n/******/ \t\tret[webpackExports] = dep;\n/******/ \t\treturn ret;\n/******/ \t}));\n/******/ \t__webpack_require__.a = (module, body, hasAwait) => {\n/******/ \t\tvar queue;\n/******/ \t\thasAwait && ((queue = []).d = -1);\n/******/ \t\tvar depQueues = new Set();\n/******/ \t\tvar exports = module.exports;\n/******/ \t\tvar currentDeps;\n/******/ \t\tvar outerResolve;\n/******/ \t\tvar reject;\n/******/ \t\tvar promise = new Promise((resolve, rej) => {\n/******/ \t\t\treject = rej;\n/******/ \t\t\touterResolve = resolve;\n/******/ \t\t});\n/******/ \t\tpromise[webpackExports] = exports;\n/******/ \t\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n/******/ \t\tmodule.exports = promise;\n/******/ \t\tbody((deps) => {\n/******/ \t\t\tcurrentDeps = wrapDeps(deps);\n/******/ \t\t\tvar fn;\n/******/ \t\t\tvar getResult = () => (currentDeps.map((d) => {\n/******/ \t\t\t\tif(d[webpackError]) throw d[webpackError];\n/******/ \t\t\t\treturn d[webpackExports];\n/******/ \t\t\t}))\n/******/ \t\t\tvar promise = new Promise((resolve) => {\n/******/ \t\t\t\tfn = () => (resolve(getResult));\n/******/ \t\t\t\tfn.r = 0;\n/******/ \t\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n/******/ \t\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n/******/ \t\t\t});\n/******/ \t\t\treturn fn.r ? promise : getResult();\n/******/ \t\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n/******/ \t\tqueue && queue.d < 0 && (queue.d = 0);\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\n/******/ \n/******/ // startup\n/******/ // Load entry module and return exports\n/******/ // This entry module used 'module' so it can't be inlined\n/******/ var __webpack_exports__ = __webpack_require__(228);\n/******/ __webpack_exports__ = globalThis.pdfjsLib = await (globalThis.pdfjsLibPromise = __webpack_exports__);\n/******/ var __webpack_exports__AbortException = __webpack_exports__.AbortException;\n/******/ var __webpack_exports__AnnotationEditorLayer = __webpack_exports__.AnnotationEditorLayer;\n/******/ var __webpack_exports__AnnotationEditorParamsType = __webpack_exports__.AnnotationEditorParamsType;\n/******/ var __webpack_exports__AnnotationEditorType = __webpack_exports__.AnnotationEditorType;\n/******/ var __webpack_exports__AnnotationEditorUIManager = __webpack_exports__.AnnotationEditorUIManager;\n/******/ var __webpack_exports__AnnotationLayer = __webpack_exports__.AnnotationLayer;\n/******/ var __webpack_exports__AnnotationMode = __webpack_exports__.AnnotationMode;\n/******/ var __webpack_exports__CMapCompressionType = __webpack_exports__.CMapCompressionType;\n/******/ var __webpack_exports__ColorPicker = __webpack_exports__.ColorPicker;\n/******/ var __webpack_exports__DOMSVGFactory = __webpack_exports__.DOMSVGFactory;\n/******/ var __webpack_exports__DrawLayer = __webpack_exports__.DrawLayer;\n/******/ var __webpack_exports__FeatureTest = __webpack_exports__.FeatureTest;\n/******/ var __webpack_exports__GlobalWorkerOptions = __webpack_exports__.GlobalWorkerOptions;\n/******/ var __webpack_exports__ImageKind = __webpack_exports__.ImageKind;\n/******/ var __webpack_exports__InvalidPDFException = __webpack_exports__.InvalidPDFException;\n/******/ var __webpack_exports__MissingPDFException = __webpack_exports__.MissingPDFException;\n/******/ var __webpack_exports__OPS = __webpack_exports__.OPS;\n/******/ var __webpack_exports__Outliner = __webpack_exports__.Outliner;\n/******/ var __webpack_exports__PDFDataRangeTransport = __webpack_exports__.PDFDataRangeTransport;\n/******/ var __webpack_exports__PDFDateString = __webpack_exports__.PDFDateString;\n/******/ var __webpack_exports__PDFWorker = __webpack_exports__.PDFWorker;\n/******/ var __webpack_exports__PasswordResponses = __webpack_exports__.PasswordResponses;\n/******/ var __webpack_exports__PermissionFlag = __webpack_exports__.PermissionFlag;\n/******/ var __webpack_exports__PixelsPerInch = __webpack_exports__.PixelsPerInch;\n/******/ var __webpack_exports__RenderingCancelledException = __webpack_exports__.RenderingCancelledException;\n/******/ var __webpack_exports__UnexpectedResponseException = __webpack_exports__.UnexpectedResponseException;\n/******/ var __webpack_exports__Util = __webpack_exports__.Util;\n/******/ var __webpack_exports__VerbosityLevel = __webpack_exports__.VerbosityLevel;\n/******/ var __webpack_exports__XfaLayer = __webpack_exports__.XfaLayer;\n/******/ var __webpack_exports__build = __webpack_exports__.build;\n/******/ var __webpack_exports__createValidAbsoluteUrl = __webpack_exports__.createValidAbsoluteUrl;\n/******/ var __webpack_exports__fetchData = __webpack_exports__.fetchData;\n/******/ var __webpack_exports__getDocument = __webpack_exports__.getDocument;\n/******/ var __webpack_exports__getFilenameFromUrl = __webpack_exports__.getFilenameFromUrl;\n/******/ var __webpack_exports__getPdfFilenameFromUrl = __webpack_exports__.getPdfFilenameFromUrl;\n/******/ var __webpack_exports__getXfaPageViewport = __webpack_exports__.getXfaPageViewport;\n/******/ var __webpack_exports__isDataScheme = __webpack_exports__.isDataScheme;\n/******/ var __webpack_exports__isPdfFile = __webpack_exports__.isPdfFile;\n/******/ var __webpack_exports__noContextMenu = __webpack_exports__.noContextMenu;\n/******/ var __webpack_exports__normalizeUnicode = __webpack_exports__.normalizeUnicode;\n/******/ var __webpack_exports__renderTextLayer = __webpack_exports__.renderTextLayer;\n/******/ var __webpack_exports__setLayerDimensions = __webpack_exports__.setLayerDimensions;\n/******/ var __webpack_exports__shadow = __webpack_exports__.shadow;\n/******/ var __webpack_exports__updateTextLayer = __webpack_exports__.updateTextLayer;\n/******/ var __webpack_exports__version = __webpack_exports__.version;\n/******/ export { __webpack_exports__AbortException as AbortException, __webpack_exports__AnnotationEditorLayer as AnnotationEditorLayer, __webpack_exports__AnnotationEditorParamsType as AnnotationEditorParamsType, __webpack_exports__AnnotationEditorType as AnnotationEditorType, __webpack_exports__AnnotationEditorUIManager as AnnotationEditorUIManager, __webpack_exports__AnnotationLayer as AnnotationLayer, __webpack_exports__AnnotationMode as AnnotationMode, __webpack_exports__CMapCompressionType as CMapCompressionType, __webpack_exports__ColorPicker as ColorPicker, __webpack_exports__DOMSVGFactory as DOMSVGFactory, __webpack_exports__DrawLayer as DrawLayer, __webpack_exports__FeatureTest as FeatureTest, __webpack_exports__GlobalWorkerOptions as GlobalWorkerOptions, __webpack_exports__ImageKind as ImageKind, __webpack_exports__InvalidPDFException as InvalidPDFException, __webpack_exports__MissingPDFException as MissingPDFException, __webpack_exports__OPS as OPS, __webpack_exports__Outliner as Outliner, __webpack_exports__PDFDataRangeTransport as PDFDataRangeTransport, __webpack_exports__PDFDateString as PDFDateString, __webpack_exports__PDFWorker as PDFWorker, __webpack_exports__PasswordResponses as PasswordResponses, __webpack_exports__PermissionFlag as PermissionFlag, __webpack_exports__PixelsPerInch as PixelsPerInch, __webpack_exports__RenderingCancelledException as RenderingCancelledException, __webpack_exports__UnexpectedResponseException as UnexpectedResponseException, __webpack_exports__Util as Util, __webpack_exports__VerbosityLevel as VerbosityLevel, __webpack_exports__XfaLayer as XfaLayer, __webpack_exports__build as build, __webpack_exports__createValidAbsoluteUrl as createValidAbsoluteUrl, __webpack_exports__fetchData as fetchData, __webpack_exports__getDocument as getDocument, __webpack_exports__getFilenameFromUrl as getFilenameFromUrl, __webpack_exports__getPdfFilenameFromUrl as getPdfFilenameFromUrl, __webpack_exports__getXfaPageViewport as getXfaPageViewport, __webpack_exports__isDataScheme as isDataScheme, __webpack_exports__isPdfFile as isPdfFile, __webpack_exports__noContextMenu as noContextMenu, __webpack_exports__normalizeUnicode as normalizeUnicode, __webpack_exports__renderTextLayer as renderTextLayer, __webpack_exports__setLayerDimensions as setLayerDimensions, __webpack_exports__shadow as shadow, __webpack_exports__updateTextLayer as updateTextLayer, __webpack_exports__version as version };\n/******/ \n\n//# sourceMappingURL=pdf.mjs.map","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable import/no-unresolved */\n\nimport { GlobalWorkerOptions } from \"./build/pdf.mjs\";\n\nif (typeof window !== \"undefined\" && \"Worker\" in window) {\n  GlobalWorkerOptions.workerPort = new Worker(\n    new URL(\"./build/pdf.worker.mjs\", import.meta.url),\n    { type: \"module\" }\n  );\n}\n\nexport * from \"./build/pdf.mjs\";\n"],"names":["__webpack_modules__","__unused_webpack___webpack_module__","d","AnnotationLayer","FreeTextAnnotationElement","InkAnnotationElement","StampAnnotationElement","util","display_utils","annotation_storage","makeColorComp","n","Math","floor","max","min","toString","padStart","scaleAndClamp","x","ColorConverters","CMYK_G","c","y","m","k","G_CMYK","g","G_RGB","G_rgb","G_HTML","G","RGB_G","r","b","RGB_rgb","color","map","RGB_HTML","join","T_HTML","T_rgb","CMYK_RGB","CMYK_rgb","CMYK_HTML","components","rgb","this","slice","RGB_CMYK","xfa_layer","DEFAULT_TAB_INDEX","GetElementsByNameSet","WeakSet","getRectDims","rect","width","height","AnnotationElementFactory","create","parameters","data","annotationType","AnnotationType","LINK","LinkAnnotationElement","TEXT","TextAnnotationElement","WIDGET","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","POPUP","PopupAnnotationElement","FREETEXT","LINE","LineAnnotationElement","SQUARE","SquareAnnotationElement","CIRCLE","CircleAnnotationElement","POLYLINE","PolylineAnnotationElement","CARET","CaretAnnotationElement","INK","POLYGON","PolygonAnnotationElement","HIGHLIGHT","HighlightAnnotationElement","UNDERLINE","UnderlineAnnotationElement","SQUIGGLY","SquigglyAnnotationElement","STRIKEOUT","StrikeOutAnnotationElement","STAMP","FILEATTACHMENT","FileAttachmentAnnotationElement","AnnotationElement","constructor","isRenderable","ignoreBorder","createQuadrilaterals","layer","linkService","downloadManager","imageResourcesPath","renderForms","svgFactory","annotationStorage","enableScripting","hasJSActions","_fieldObjects","fieldObjects","parent","container","_createContainer","_createQuadrilaterals","_hasPopupData","titleObj","contentsObj","richText","str","hasPopupData","updateEdited","params","resetEdited","style","currentRect","rotation","viewport","rawDims","pageWidth","pageHeight","pageX","pageY","splice","left","top","setRotation","page","document","createElement","setAttribute","id","tabIndex","zIndex","popupRef","alternativeText","title","noRotate","classList","add","hasOwnCanvas","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","warn","INSET","borderBottomStyle","borderColor","Util","makeHexColor","normalizeRect","view","angle","elementWidth","elementHeight","_commonActions","setColor","jsName","styleName","event","detail","colorType","colorArray","target","setValue","shadow","display","hidden","visibility","noView","noPrint","print","focus","setTimeout","preventScroll","userName","readonly","disabled","required","_setRequired","bgColor","fillColor","fgColor","textColor","strokeColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","name","Object","keys","action","_setDefaultPropertiesFromJS","element","storedData","getRawValue","actionName","entries","quadPoints","rectBlX","rectBlY","rectTrX","rectTrY","length","trX","trY","blX","blY","svgBuffer","svg","defs","append","clipPath","rectWidth","rectHeight","push","backgroundImage","_createPopup","popup","modificationDate","parentRect","elements","div","render","unreachable","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","querySelector","has","getElementsByName","getAttribute","show","maybeShow","hide","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","Array","isArray","_isEditable","_editOnDoubleClick","annotationEditorType","mode","editId","addEventListener","eventBus","dispatch","source","options","super","isTooltipOnly","link","isBound","url","addLinkAttributes","newWindow","_bindNamedAction","attachment","attachmentDest","setOCGState","dest","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","destination","href","getDestinationHash","onclick","goToDestination","getAnchorUrl","executeNamedAction","openOrDownloadData","content","filename","executeSetOCGState","Map","get","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","Set","fieldName","values","field","storage","allIds","type","value","defaultValue","dispatchEvent","Event","ids","image","src","toLowerCase","JSON","stringify","showElementAndHideCanvas","previousSibling","nodeName","_getKeyModifier","FeatureTest","platform","isMac","metaKey","ctrlKey","_setEventListener","elementData","baseName","eventName","valueGetter","includes","shift","shiftKey","modifier","focused","relatedTarget","_setEventListeners","names","getter","Blur","Focus","_setBackgroundColor","backgroundColor","_setTextStyle","fontColor","defaultAppearanceData","fontSize","computedFontSize","roundToOneDecimal","round","multiLine","abs","lineHeight","LINE_FACTOR","textAlignment","textAlign","isRequired","removeAttribute","hasAppearance","fieldValue","setPropertyOnSiblings","base","key","keyInStorage","getValue","textContent","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","replaceAll","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","maxLength","defaultFieldValue","blurListener","scrollLeft","activeElement","selRange","setSelectionRange","willCommit","selStart","selectionStart","selEnd","selectionEnd","_blurListener","Keystroke","inputType","match","substring","preventDefault","change","combWidth","letterSpacing","verticalAlign","checked","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","lastChild","selectElement","addAnEmptyEntry","combo","size","multiSelect","multiple","option","selected","optionElement","displayValue","removeEmptyEntry","noneOptionElement","prepend","remove","removeEventListener","isExport","prototype","filter","call","selectedIndex","selectedValues","getItems","multipleSelection","index","findIndex","items","clear","insert","selectChild","children","before","item","indices","editable","changeEx","keyDown","PopupElement","open","elementIds","AnnotationPrefix","bind","PDFDateString","toDateObject","trigger","flatMap","e","className","baseColor","outlineColor","CSS","supports","BACKGROUND_ENLIGHT","header","dir","date","toLocaleDateString","time","toLocaleTimeString","contents","_formatContents","XfaLayer","xfaHtml","html","intent","useParentRect","intersect","normalizedRect","parentWidth","popupLeft","popupTop","p","lines","split","i","ii","line","createTextNode","altKey","isVisible","parseInt","textPosition","AnnotationEditorType","lineSpan","lineCoordinates","square","circle","containerClassName","svgElementName","points","coordinate","vertices","polyline","inkList","inkLists","file","getFilenameFromUrl","fillAlpha","test","evt","accessibilityManager","annotationCanvasMap","annotationEditorUIManager","_annotationEditorUIManager","contentElement","firstChild","moveElementInDOM","annotations","setLayerDimensions","popupToElements","elementParams","DOMSVGFactory","AnnotationStorage","noHTML","isPopupAnnotation","set","rendered","renderAnnotationElement","update","canvas","replaceWith","contains","after","getEditableAnnotations","from","getEditableAnnotation","PrintAnnotationStorage","SerializableEmpty","_shared_util_js__WEBPACK_IMPORTED_MODULE_0__","_editor_editor_js__WEBPACK_IMPORTED_MODULE_1__","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__","freeze","hash","transfer","undefined","onSetModified","onResetModified","onAnnotationEditor","assign","delete","resetModified","AnnotationEditor","obj","modified","entry","val","_type","getAll","objectFromMap","setAll","serializable","MurmurHash3_64","context","hasBitmap","serialized","serialize","bitmap","hexdigest","editorStats","stats","typeToEditor","telemetryFinalData","getPrototypeOf","counters","count","editor","computeTelemetryFinalData","clone","structuredClone","__webpack_module__","a","async","__webpack_handle_async_dependencies__","__webpack_async_result__","PDFDataRangeTransport","PDFWorker","build","getDocument","version","_annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__","_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","_font_loader_js__WEBPACK_IMPORTED_MODULE_3__","display_node_utils__WEBPACK_IMPORTED_MODULE_4__","_canvas_js__WEBPACK_IMPORTED_MODULE_5__","_text_layer_js__WEBPACK_IMPORTED_MODULE_6__","_worker_options_js__WEBPACK_IMPORTED_MODULE_14__","_shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__","_metadata_js__WEBPACK_IMPORTED_MODULE_8__","_optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__","_transport_stream_js__WEBPACK_IMPORTED_MODULE_10__","display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__","display_network__WEBPACK_IMPORTED_MODULE_12__","display_node_stream__WEBPACK_IMPORTED_MODULE_13__","_xfa_text_js__WEBPACK_IMPORTED_MODULE_15__","__webpack_async_dependencies__","then","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DELAYED_CLEANUP_TIMEOUT","DefaultCanvasFactory","isNodeJS","NodeCanvasFactory","DOMCanvasFactory","DefaultCMapReaderFactory","NodeCMapReaderFactory","DOMCMapReaderFactory","DefaultFilterFactory","NodeFilterFactory","DOMFilterFactory","DefaultStandardFontDataFactory","NodeStandardFontDataFactory","DOMStandardFontDataFactory","URL","ArrayBuffer","isView","Error","range","task","PDFDocumentLoadingTask","docId","window","location","getUrlProp","Buffer","Uint8Array","byteLength","buffer","stringToBytes","isNaN","getDataProp","httpHeaders","withCredentials","password","rangeTransport","rangeChunkSize","Number","isInteger","worker","verbosity","docBaseUrl","isDataScheme","cMapUrl","cMapPacked","CMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","ignoreErrors","stopAtErrors","maxImageSize","isEvalSupported","isOffscreenCanvasSupported","canvasMaxAreaInBytes","disableFontFace","fontExtraProperties","enableXfa","ownerDocument","globalThis","disableRange","disableStream","disableAutoFetch","pdfBug","NaN","useSystemFonts","useWorkerFetch","isValidFetchUrl","baseURI","canvasFactory","filterFactory","setVerbosityLevel","transportFactory","cMapReaderFactory","baseUrl","isCompressed","standardFontDataFactory","workerParams","port","GlobalWorkerOptions","workerPort","fromPort","_worker","fetchDocParams","apiVersion","evaluatorOptions","transportParams","styleElement","promise","destroyed","workerIdPromise","workerId","messageHandler","sendWithPromise","_fetchDocument","networkStreamPromise","Promise","resolve","networkStream","PDFDataTransportStream","fetch","Response","PDFFetchStream","PDFNodeStream","PDFNetworkStream","all","MessageHandler","transport","WorkerTransport","_transport","send","catch","_capability","reject","isRefProxy","ref","num","gen","static","withResolvers","onPassword","onProgress","destroy","_pendingDestroy","ex","initialData","progressiveDone","contentDispositionFilename","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","addRangeListener","listener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","begin","chunk","onDataProgress","loaded","total","onDataProgressiveRead","onDataProgressiveDone","transportReady","requestDataRange","end","abort","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","pageNumber","getPageIndex","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","renderingIntent","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","getData","saveDocument","getDownloadInfo","downloadInfoCapability","cleanup","keepLoadedFonts","startCleanup","loadingTask","cachedPageNumber","loadingParams","getFieldObjects","getCalculationOrderIds","PDFPageProxy","pageIndex","pageInfo","_pageIndex","_pageInfo","_stats","StatTimer","_pdfBug","commonObjs","objs","PDFObjects","_maybeCleanupAfterRender","_intentStates","rotate","userUnit","getViewport","scale","offsetX","offsetY","dontFlip","PageViewport","viewBox","getAnnotations","getPageJSActions","getXfa","canvasContext","annotationMode","AnnotationMode","ENABLE","transform","background","optionalContentConfigPromise","pageColors","printAnnotationStorage","intentArgs","cacheKey","intentState","streamReaderCancelTimeout","clearTimeout","intentPrint","RenderingIntentFlag","PRINT","displayReadyCapability","operatorList","fnArray","argsArray","lastChunk","separateAnnots","_pumpOperatorList","complete","error","renderTasks","internalRenderTask","capability","_abortOperatorList","reason","timeEnd","InternalRenderTask","callback","useRequestAnimationFrame","renderTask","transparency","optionalContentConfig","initializeGraphics","operatorListChanged","getOperatorList","opListTask","opListReadCapability","streamTextContent","includeMarkedContent","disableNormalization","sendWithStream","highWaterMark","getTextContent","xfa","XfaText","readableStream","reader","getReader","styles","pump","read","done","getStructTree","_destroy","waitOn","force","completed","cancel","resetStats","success","delayed","_startRenderPage","_renderPageChunk","operatorListChunk","annotationStorageSerializable","streamReader","RenderingCancelledException","delay","extraDelay","AbortException","message","curCacheKey","curIntentState","LoopbackPort","postMessage","terminate","PDFWorkerUtil","isWorkerDisabled","fakeWorkerId","workerSrc","isSameOrigin","otherUrl","origin","other","createCDNWrapper","wrapper","createObjectURL","Blob","getVerbosityLevel","_port","_webWorker","_messageHandler","WeakMap","_initializeFromPort","_initialize","on","Worker","terminateEarly","onWorkerError","_setupFakeWorker","sendTest","testObj","info","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","cachedPort","pdfjsWorker","import","loader","factory","fontLoader","FontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","cachedPromise","isOpList","DISPLAY","ANY","DISABLE","ANNOTATIONS_DISABLE","ENABLE_FORMS","ANNOTATIONS_FORMS","ENABLE_STORAGE","ANNOTATIONS_STORAGE","OPLIST","hasOwnProperty","terminated","cleanupTextLayer","cancelAllRequests","sink","assert","getFullReader","onPull","close","enqueue","onCancel","ready","readyReason","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","contentLength","rangeReader","getRangeReader","_numPages","htmlForXfa","PasswordException","code","InvalidPDFException","MissingPDFException","UnexpectedResponseException","status","UnknownErrorException","details","exception","updatePassword","exportedData","exportedError","inspectFont","FontInspector","enabled","font","fontAdded","FontFaceObject","finally","imageRef","pageProxy","dataLen","imageData","MAX_IMAGE_SIZE_TO_CACHE","refStr","OptionalContentConfig","results","metadata","Metadata","INITIAL_DATA","Symbol","objId","iterator","RenderTask","onContinue","form","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","CanvasGraphics","beginDrawing","endDrawing","updateOperatorList","requestAnimationFrame","executeOperatorList","BaseCMapReaderFactory","BaseCanvasFactory","BaseFilterFactory","BaseSVGFactory","BaseStandardFontDataFactory","addFilter","maps","addHCMFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","keepHCM","_createCanvas","getContext","reset","canvasAndContext","compressionType","CMapCompressionType","BINARY","NONE","_fetchData","skipDimensions","_createSVG","PathType","applyBoundingBox","ctx","bbox","region","Path2D","clip","BaseShadingPattern","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","matrix","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","inverse","pathType","pattern","ownerBBox","current","getClippedPathBoundingBox","getCurrentTransform","ceil","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","translate","baseTransform","fillStyle","fill","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","p1","p2","p3","c1","c2","c3","coords","colors","bytes","rowSize","tmp","x1","scaleX","y1","scaleY","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","j","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_coords","_colors","_figures","_bounds","_background","_createMeshCanvas","combinedScale","boundsWidth","boundsHeight","paddedWidth","BORDER_SIZE","paddedHeight","createImageData","putImageData","singularValueDecompose2dScale","matrixScale","temporaryPatternCanvas","DummyShadingPattern","TilingPattern","canvasGraphicsFactory","xstep","ystep","paintType","tilingType","createPatternCanvas","x0","y0","curMatrixScale","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","adjustedX0","adjustedY0","adjustedX1","adjustedY1","save","clipBbox","step","realOutputSize","maxSize","MAX_PATTERN_SIZE","bboxWidth","bboxHeight","updateRectMinMax","endPath","strokeStyle","cssColor","FormatError","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","black","isLittleEndian","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","Uint32Array","destPos","elem","MAX_GROUP_SIZE","FULL_CHUNK_HEIGHT","CachedCanvases","cache","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tx","ty","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","drawImage","hypot","CanvasExtraState","alphaIsShape","fontSizeScale","textMatrix","IDENTITY_MATRIX","textMatrixScale","fontMatrix","FONT_IDENTITY_MATRIX","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","TextRenderingMode","FILL","textRise","patternFill","strokeAlpha","lineWidth","activeSMask","transferMaps","startNewPathAndClipBox","clipBox","setCurrentPoint","updatePathMinMax","applyTransform","minX","maxX","p4","updateScalingPathMinMax","minMax","scaleMinMax","updateCurvePathMinMax","box","bezierBoundingBox","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","isEmptyClip","Infinity","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","kind","ImageKind","GRAYSCALE_1BPP","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","mask","srcByte","RGBA_32BPP","subarray","RGB_24BPP","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","getImageSmoothingEnabled","interpolate","fround","actualScale","devicePixelRatio","PixelsPerInch","PDF_TO_CSS_UNITS","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","canvasCtx","markedContentStack","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","startsWith","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","argsArrayLen","chunkOperations","endTime","Date","now","steps","fnId","breakIt","OPS","dependency","apply","depObjId","objsPool","inSMaskMode","restore","HTMLCanvasElement","hcmFilterId","foreground","savedFilter","_scaleImage","img","inverseTransform","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","_createMaskCanvas","isPatternFill","currentTransform","scaled","maskCanvas","mainKey","cachedImage","maskToCanvas","getAxialAlignedBoundingBox","drawnWidth","drawnHeight","fillCanvas","fillCtx","getCurrentTransformInverse","imageSmoothingEnabled","setLineWidth","setLineCap","setLineJoin","setMiterLimit","limit","setDash","dashArray","dashPhase","setRenderingIntent","setFlatness","flatness","setGState","states","setFont","checkSMaskState","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","moveTo","__originalLineTo","lineTo","__originalBezierCurveTo","bezierCurveTo","__originalRect","__originalClosePath","closePath","__originalBeginPath","f","rule","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","compose","dirtyBox","smask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","maskCtx","subtype","backdrop","maskOffsetX","maskOffsetY","hasBackdrop","composeFn","chunkSize","row","chunkHeight","getImageData","genericComposeSMask","composeSMask","old","pop","constructPath","ops","args","startX","startY","isScalingMatrix","minMaxForBezier","rectangle","xw","yh","curveTo","curveTo2","curveTo3","stroke","consumePath","rescaleAndStroke","closeStroke","needRestore","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","eoClip","beginText","endText","paths","pendingTextPaths","path","addToPath","setCharSpacing","spacing","setWordSpacing","setHScale","setLeading","fontRefName","fontObj","fontDirection","isType3Font","loadedName","typeface","systemFontInfo","css","fallbackName","bold","italic","browserFontSize","setTextRenderingMode","setTextRise","rise","moveText","setLeadingMoveText","setTextMatrix","nextLine","paintChar","character","patternTransform","fillStrokeMode","FILL_STROKE_MASK","isAddToPathSet","ADD_TO_PATH_FLAG","missingFile","getPathGenerator","FILL_STROKE","STROKE","fillText","strokeText","isFontSubpixelAAEnabled","showText","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","getSinglePixelWidth","isInvalidPDFjsFont","chars","glyph","unicode","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","measureText","characterScaleX","isInFont","scaledAccentX","offset","scaledAccentY","spacingLength","INVISIBLE","charProcOperatorList","operatorListId","setCharWidth","xWidth","yWidth","setCharWidthAndBounds","llx","lly","urx","ury","getColorN_Pattern","_getPattern","setStrokeColorN","arguments","setFillColorN","setStrokeRGBColor","setFillRGBColor","getShadingPattern","shadingFill","inv","beginInlineImage","beginImageData","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","group","currentCtx","isolated","knockout","bounds","canvasBounds","groupCtx","startTransformInverse","endGroup","currentMtx","beginAnnotation","canvasWidth","canvasHeight","annotationCanvas","savedCtx","endAnnotation","paintImageMaskXObject","compiled","POINT_TYPES","width1","j0","lineSize","pos","sum","Int32Array","p0","pp","compileType3Glyph","paintImageMaskXObjectRepeat","skewX","skewY","positions","trans","paintImageMaskXObjectGroup","images","paintImageXObject","paintInlineImageXObject","paintImageXObjectRepeat","w","h","paintInlineImageXObjectGroup","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","paintSolidColorImageMask","markPoint","tag","markPointProps","beginMarkedContent","visible","beginMarkedContentProps","isContentVisible","endMarkedContent","beginCompat","endCompat","isEmpty","absDet","normX","normY","getScaleForStroking","getTransform","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","op","fetchData","getColorValues","getPdfFilenameFromUrl","getRGB","getXfaPageViewport","isPdfFile","noContextMenu","_base_factory_js__WEBPACK_IMPORTED_MODULE_0__","_shared_util_js__WEBPACK_IMPORTED_MODULE_1__","SVG_NS","PDF","contain","position","createElementNS","body","tableR","tableG","tableB","mapR","mapG","mapB","bufferR","bufferG","bufferB","fgRGB","bgRGB","table","getSteps","start","arr","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","prev","parentNode","feColorMatrix","feComponentTransfer","func","feFunc","rTable","gTable","bTable","getComputedStyle","getPropertyValue","_document","response","ok","statusText","arrayBuffer","blob","json","text","request","XMLHttpRequest","responseType","onreadystatechange","readyState","DONE","responseText","cMapData","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","applyInverseTransform","BaseException","msg","trim","onlyStripPath","lastIndexOf","defaultFilename","reFilename","splitURI","exec","suggestedFilename","decodeURIComponent","started","times","outBuf","longest","padEnd","protocol","pdfDateStringRegex","input","RegExp","matches","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","UTC","xfaPage","attributes","colorRGB","span","computedColor","invertSelf","mustFlip","mustRotate","useRound","isCSSRoundSupported","widthStr","heightStr","DrawLayer","_display_utils_js__WEBPACK_IMPORTED_MODULE_0__","setParent","root","_svgFactory","pathId","clipPathId","clipPathUse","highlight","outlines","opacity","isPathUpdatable","free","toSVGPath","use","highlightOutline","maskId","use1","use2","cloneNode","finalizeLine","updateBox","updateLine","removeFreeHighlight","updatePath","toggle","changeColor","changeOpacity","addClass","removeClass","AnnotationEditorLayer","editor_editor","tools","annotation_layer","EOL_PATTERN","FreeTextEditor","editorDivBlur","editorDivFocus","editorDivInput","editorDivKeydown","editorDivPaste","_keyboardManager","proto","arrowChecker","self","small","AnnotationEditorUIManager","TRANSLATE_SMALL","big","TRANSLATE_BIG","KeyboardManager","commitOrRemove","bubbles","_translateEmpty","checker","_defaultColor","_defaultLineColor","_defaultFontSize","initialize","l10n","uiManager","strings","documentElement","_internalPadding","parseFloat","updateDefaultParams","AnnotationEditorParamsType","FREETEXT_SIZE","FREETEXT_COLOR","updateParams","defaultPropertiesToUpdate","propertiesToUpdate","setFontsize","editorDiv","parentScale","savedFontsize","addCommands","cmd","undo","post","_uiManager","updateUI","mustExec","overwriteIfSameType","keepUndo","col","savedColor","translateSelectedEditors","getInitialTranslation","rebuild","isAttachedToDOM","enableEditMode","isInEditMode","setEditingState","updateToolbar","overlayDiv","contentEditable","_isDraggable","disableEditMode","isEditing","focusin","_focusEventsAllowed","onceAdded","_initialOptions","isCentered","center","innerText","normalize","child","childNodes","parentHeight","parentDimensions","getBoundingClientRect","currentLayer","savedDisplay","savedVisibility","parentRotation","fixAndSetPosition","commit","savedText","newText","trimEnd","setText","shouldGetKeyboardEvents","enterInEditMode","dblclick","keydown","disableEditing","enableEditing","baseX","baseY","_l10nPromise","bindEvents","annotationElementId","pageTranslationToScreen","pageDimensions","pageTranslation","posX","posY","setAt","node","nodeType","Node","TEXT_NODE","nodeValue","clipboardData","types","paste","selection","getSelection","rangeCount","deleteFromDocument","getRangeAt","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","parentElement","newRange","Range","beforeLength","reduce","acc","setStart","setEnd","removeAllRanges","addRange","replaceChildren","contentDiv","deserialize","deleted","isForCopying","padding","getRect","_colorManager","convert","structTreeParentId","_structTreeParentId","_hasBeenMoved","some","annotation","resetAnnotationElement","editor_outliner","color_picker","HighlightEditor","_moveCaret","thickness","_defaultThickness","_defaultOpacity","boxes","methodOfCreation","highlightId","anchorNode","anchorOffset","focusNode","focusOffset","telemetryInitialData","highlightColorNames","numberOfColors","outliner","Outliner","getOutlines","outlinerForOutline","direction","lastPoint","highlightOutlines","getNewOutline","drawLayer","highlightColors","next","HIGHLIGHT_DEFAULT_COLOR","HIGHLIGHT_THICKNESS","translateInPage","toolbarPosition","HIGHLIGHT_COLOR","HIGHLIGHT_FREE","updateColor","_reportTelemetry","savedThickness","setThickness","th","INK_THICKNESS","addEditToolbar","toolbar","ColorPicker","addColorPicker","getBaseTranslation","addUndoableEditor","mustBeSelected","_isVisible","select","setDims","highlightDiv","pointerover","pointerleave","unselect","setPosition","_mustFixPosition","sx","sy","startHighlighting","isLTR","textLayer","layerX","layerY","pointerMove","pointerDownOptions","capture","passive","pointerDown","stopPropagation","pointerUpCallback","_freeHighlight","FreeOutliner","_freeHighlightId","_freeHighlightClipId","createAndAddNewEditor","canCreateNewEmptyEditor","InkEditor","canvasPointermove","canvasPointerleave","canvasPointerup","canvasPointerdown","bezierPath2D","allRawPaths","currentPath","scaleFactor","translationX","translationY","_willKeepAspectRatio","INK_COLOR","INK_OPACITY","setOpacity","savedOpacity","disconnect","removeShouldRescale","addShouldRescale","onScaleChanging","setDimensions","opacityToHex","lastX","lastY","at","path2D","bezier","xy","lastPoints","prevX","prevY","bezierPoints","control1","control2","setInForeground","addInkEditorIfNeeded","moveInDOM","button","addToAnnotationStorage","setInBackground","ResizeObserver","contentRect","observe","isResizable","setAspectRatio","roundedWidth","roundedHeight","fixDims","scaleFactorW","scaleFactorH","first","s","shiftX","shiftY","jj","p10","p11","p20","p21","p30","p31","p40","p41","xMin","xMax","yMin","yMax","firstTime","MIN_SIZE","prevTranslationX","prevTranslationY","unscaledPadding","StampEditor","bitmapUrl","bitmapFile","supportedTypes","supportedTypesStr","isHandlingMimeForPasting","mime","pasteEditor","getAsFile","fromId","isSvg","enableWaiting","imageManager","getFromId","getFromUrl","getFromFile","accept","files","click","deleteId","addAltTextButton","MAX_RATIO","factor","bitmapWidth","bitmapHeight","prevWidth","prevHeight","offscreen","OffscreenCanvas","transferToImageBitmap","hasMLManager","hasAltText","convertToBlob","fileReader","FileReader","onload","result","mlGuess","service","altText","output","altTextData","decorative","readAsDataURL","hcmFilter","getImageForAltText","toUrl","getSvgUrl","toDataURL","bitmapId","accessibilityData","isValidId","alt","stamps","area","prevData","_editorType","annotationLayer","editorTypes","_initialized","editorType","registerEditorTypes","addLayer","isInvisible","getMode","updateMode","disableTextSelection","togglePointerEvents","toggleAnnotationLayerPointerEvents","disableClick","enableTextSelection","enableClick","hasTextLayer","isCommitting","enable","annotationElementIds","removeChangedExistingAnnotation","editables","isDeletedAnnotationElement","addOrRebuild","disable","changedAnnotations","resetAnnotations","addChangedExistingAnnotation","setActiveEditor","getActive","unselectAll","showAllEditors","once","pointerdown","pointerup","attach","removeDeletedAnnotationElement","detach","removePointerInTextLayer","addDeletedAnnotationElement","removeEditor","changeParent","deleteAnnotationElement","addEditor","moveEditorInDOM","needsToBeRebuilt","getNextId","getId","innerWidth","innerHeight","addNewEditor","setSelected","toggleSelected","isSelected","findNewParent","findParent","removeLayer","getEditors","oldRotation","viewParameters","realScale","_tools_js__WEBPACK_IMPORTED_MODULE_1__","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","_eventBus","renderButton","swatch","renderMainDropdown","dropdown","role","nextSibling","hideDropdown","focusVisible","AltText","l10nPromise","onClick","editAltText","finish","tooltip","DELAY_TO_SHOW_TOOLTIP","focusout","_zIndex","ColorManager","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","pageRotation","getHexCode","fakeEditor","FakeEditor","_borderLineWidth","_value","isEnterHandled","closest","isMultipleSelection","screenToPageTranslation","scrollIntoView","block","drag","bx","by","toFixed","scaledWidth","scaledHeight","widthPercent","endsWith","heightPercent","classes","boundResizerPointermove","savedDraggable","pointerMoveOptions","savedX","savedY","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","newX","newY","minWidth","minHeight","rotationMatrix","transf","invRotationMatrix","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","deltaX","deltaY","movementX","movementY","oldDiag","altTextFinish","EditorToolbar","removeEditToolbar","getClientDimensions","maxWidth","maxHeight","pointerMoveCallback","setUpDragSession","clientX","clientY","dragSelectedEditors","endDragSession","_setParentAndPosition","getRectInCurrentCoords","_angle","hasBeenModified","timeout","makeResizable","boundResizerKeydown","boundResizerBlur","firstPosition","nextFirstPosition","stopImmediatePropagation","aspectRatio","mustWait","_telemetryTimeout","innerMargin","EPSILON","right","shiftedMinX","shiftedMinY","lastEdge","edge","sort","outlineVerticalEdges","edges","allEdges","edge1","edge2","outline","lastPointX","lastPointY","HighlightOutline","array","middle","y4","Outline","_rotation","FreeHighlightOutline","polygon","Float64Array","lastTop","lastBottom","diffX","diffY","diffD","K","nY","thX","thY","atan2","PI","bottom","lastTopX","lastTopY","lastBottomX","lastBottomY","last","N","ltrCallback","HighlightToolbar","editToolbar","buttons","insetInlineEnd","divider","colorPicker","highlightSelection","_display_utils_js__WEBPACK_IMPORTED_MODULE_1__","_toolbar_js__WEBPACK_IMPORTED_MODULE_2__","IdManager","AnnotationEditorPrefix","ImageManager","getUuid","_isSVGFittingCanvas","Image","decode","rawData","refCounter","mustRemoveAspectRatioPromise","imageElement","imagePromise","svgUrl","onerror","createImageBitmap","console","lastModified","CommandManager","redo","hasSomethingToUndo","hasSomethingToRedo","callbacks","allKeys","isMacKey","matchMedia","RGB","every","_colorsMapping","blur","copy","cut","keyup","onEditingAction","onPageChanging","onRotationChanging","hasSelectedEditor","hasSelectedText","tagName","hasSomethingToControl","textInputChecker","_self","el","HTMLInputElement","selectAll","addNewEditorFromKeyboard","HTMLButtonElement","viewer","altTextManager","pdfDocument","enableHighlightFloatingButton","mlManager","_on","isShiftKeyDown","_off","guess","pair","reverse","setMainHighlightColorPicker","focusMainContainer","disableUserSelect","pagesRotation","isCollapsed","getSelectionBoxes","empty","hasSelection","lastEditor","lastActiveElement","addEditListeners","removeEditListeners","editors","setData","parse","newEditors","deserializedEditor","isEditorHandlingKeyboard","getLayer","currentPageIndex","isFromKeyboard","CREATE","HIGHLIGHT_SHOW_ALL","updateButton","getEditor","ed","firstSelectedEditor","noCommit","totalX","totalY","savedPageIndex","newPageIndex","mustBeAddedInUndoStack","move","isActive","commonAncestorContainer","rotator","collapsed","getClientRects","editorId","_network_utils_js__WEBPACK_IMPORTED_MODULE_1__","createFetchOptions","headers","abortController","method","signal","credentials","redirect","createHeaders","Headers","getArrayBuffer","isHttp","_fullRequestReader","_rangeRequestReaders","_progressiveDataLength","_loaded","PDFFetchStreamReader","PDFFetchStreamRangeReader","stream","_stream","_reader","_filename","_withCredentials","_contentLength","_headersCapability","_disableRange","_rangeChunkSize","_abortController","AbortController","_isStreamingSupported","_isRangeSupported","_headers","validateResponseStatus","createResponseStatusError","getResponseHeader","allowRangeRequests","suggestedLength","validateRangeRequestCapabilities","extractFilenameFromHeader","_readCapability","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","getElementsByTagName","styleSheet","sheet","cssRules","loadSystemFont","_inspectFont","isFontLoadingAPISupported","fontFace","FontFace","load","baseFontName","attached","createNativeFontFace","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","hasFonts","supported","navigator","userAgent","otherRequest","_loadTestFont","testFont","atob","int32","charCodeAt","spliceString","called","XXXX_VALUE","checksum","string32","btoa","fontFamily","isFontReady","translatedData","compiledGlyphs","cssFontInfo","weight","fontWeight","italicAngle","bytesToString","mimetype","cmds","commands","FontRenderOps","BEZIER_CURVE_TO","MOVE_TO","LINE_TO","QUADRATIC_CURVE_TO","quadraticCurveTo","RESTORE","SAVE","SCALE","TRANSFORM","TRANSLATE","parsedData","getRaw","NetworkManager","currXhrId","pendingRequests","requestRange","listeners","prop","requestFull","xhr","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","_source","_manager","_onRangeRequestReaderClosed","indexOf","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_onHeadersReceived","_onDone","_onError","_onProgress","_url","_fullRequestId","_headersReceivedCapability","_cachedChunks","_requests","_done","_storedError","fullRequestXhrId","fullRequestXhr","requestCapability","lengthComputable","_requestId","_queuedChunk","_close","returnValues","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","contentDispositionStr","iter","quot","part","parts","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","TextDecoder","fatal","quotindex","extvalue","encodingend","replace","charset","hex","String","fromCharCode","getFilenameFromContentDispositionHeader","fs","http","https","fileUriRegex","sourceUrl","parsedUrl","host","parseUrl","isFsUrl","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","_readableStream","_error","_setReadableStream","BaseRangeReader","createRequestOptions","auth","hostname","handleResponse","statusCode","_request","_httpHeaders","promises","lstat","stat","createReadStream","path2d","readFile","createCanvas","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__","INTERNAL","OptionalContentGroup","usage","viewState","printState","_setVisible","internal","userSet","creator","order","groups","baseState","off","getHash","operator","state","expression","policy","setVisibility","preserveRB","hasInitialVisibility","getOrder","getGroups","getGroup","renderTextLayer","updateTextLayer","DEFAULT_FONT_SIZE","ascentCache","_canvasContext","getCtx","appendText","geom","textDiv","textDivProperties","hasText","hasEOL","_textDivs","_transform","fontName","_fontInspectorEnabled","fontSubstitution","fontHeight","fontAscent","cachedAscent","savedFont","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","pixels","getAscent","sin","cos","scaleFactorStr","divStyle","_container","_rootContainer","_pageWidth","_pageHeight","dataset","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","_textDivProperties","_isReadableStream","_layoutText","layout","prevFontSize","prevFontFamily","TextLayerRenderTask","textContentSource","textDivs","textContentItemsStr","_textContentSource","ReadableStream","_textContentItemsStr","_canceled","_layoutTextParams","_processItems","styleCache","br","_render","mustRescale","pdfDataRangeTransport","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_rangeReaders","_onReceiveData","_onProgressiveDone","_enqueue","found","_begin","_removeRangeReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","_headersReady","_end","_xfa_text_js__WEBPACK_IMPORTED_MODULE_0__","setupStorage","xfaOn","xfaOff","setAttributes","isHTMLAnchorElement","HTMLAnchorElement","dataId","rootHtml","isNotForRichText","rootDiv","shouldBuildText","stack","childHtml","xmlns","querySelectorAll","walk","_display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__","_display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__","_display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__","_display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__","_display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","_display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__","_display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__","_display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__","_display_api_js__WEBPACK_IMPORTED_MODULE_1__","PasswordResponses","PermissionFlag","VerbosityLevel","_display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__","createValidAbsoluteUrl","normalizeUnicode","_display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__","_util_js__WEBPACK_IMPORTED_MODULE_0__","wrapReason","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onComObjOnMessage","cbSourceName","cbTargetName","handler","ah","transfers","queueingStrategy","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","streamSink","isCancelled","lastDesiredSize","sinkCapability","streamController","allSettled","SEED","MASK_HIGH","MASK_LOW","seed","h1","h2","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","process","versions","nw","electron","RESIZE","FREETEXT_OPACITY","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","SOUND","MOVIE","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","ERRORS","WARNINGS","INFOS","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setFillColor","setStrokeGray","setFillGray","setStrokeCMYKColor","setFillCMYKColor","endInlineImage","paintXObject","NEED_PASSWORD","INCORRECT_PASSWORD","level","log","cond","addDefaultProtocol","dots","tryConvertEncoding","escape","absoluteUrl","_isValidProtocol","nonSerializable","defineProperty","enumerable","configurable","writable","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","buffer8","Function","hexNumbers","temp","m1","m2","transpose","sqrt","rect1","rect2","xLow","xHigh","yLow","yHigh","t","mt","tt","ttt","delta","sqrtDelta","a2","NormalizeRegex","NormalizationMap","_","crypto","randomUUID","buf","getRandomValues","random","__webpack_module_cache__","moduleId","cachedModule","exports","module","webpackQueues","webpackExports","webpackError","resolveQueue","queue","forEach","fn","hasAwait","currentDeps","outerResolve","depQueues","rej","deps","dep","ret","wrapDeps","getResult","fnQueue","err","definition","o","__webpack_exports__AbortException","pdfjsLib","pdfjsLibPromise","__webpack_exports__AnnotationEditorLayer","__webpack_exports__AnnotationEditorParamsType","__webpack_exports__AnnotationEditorType","__webpack_exports__AnnotationEditorUIManager","__webpack_exports__AnnotationLayer","__webpack_exports__AnnotationMode","__webpack_exports__CMapCompressionType","__webpack_exports__ColorPicker","__webpack_exports__DOMSVGFactory","__webpack_exports__DrawLayer","__webpack_exports__FeatureTest","__webpack_exports__GlobalWorkerOptions","__webpack_exports__ImageKind","__webpack_exports__InvalidPDFException","__webpack_exports__MissingPDFException","__webpack_exports__OPS","__webpack_exports__Outliner","__webpack_exports__PDFDataRangeTransport","__webpack_exports__PDFDateString","__webpack_exports__PDFWorker","__webpack_exports__PasswordResponses","__webpack_exports__PermissionFlag","__webpack_exports__PixelsPerInch","__webpack_exports__RenderingCancelledException","__webpack_exports__UnexpectedResponseException","__webpack_exports__Util","__webpack_exports__VerbosityLevel","__webpack_exports__XfaLayer","__webpack_exports__build","__webpack_exports__createValidAbsoluteUrl","__webpack_exports__fetchData","__webpack_exports__getDocument","__webpack_exports__getFilenameFromUrl","__webpack_exports__getPdfFilenameFromUrl","__webpack_exports__getXfaPageViewport","__webpack_exports__isDataScheme","__webpack_exports__isPdfFile","__webpack_exports__noContextMenu","__webpack_exports__normalizeUnicode","__webpack_exports__renderTextLayer","__webpack_exports__setLayerDimensions","__webpack_exports__shadow","__webpack_exports__updateTextLayer","__webpack_exports__version"],"sourceRoot":""}